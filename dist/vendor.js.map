{"version":3,"sources":["webpack://polygonjs-engine/./node_modules/lodash.isarguments/index.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/graph.js","webpack://polygonjs-engine/(webpack)/buildin/module.js","webpack://polygonjs-engine/./node_modules/lodash.isarray/index.js","webpack://polygonjs-engine/./node_modules/geo-convert-position-format/index.js","webpack://polygonjs-engine/(webpack)/buildin/global.js","webpack://polygonjs-engine/./node_modules/tslib/tslib.es6.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/dijkstra.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/data/priority-queue.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/tarjan.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/topsort.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/dfs.js","webpack://polygonjs-engine/./node_modules/lodash.restparam/index.js","webpack://polygonjs-engine/./node_modules/lodash.keysin/index.js","webpack://polygonjs-engine/./node_modules/vertices-bounding-box/index.js","webpack://polygonjs-engine/./node_modules/geo-3d-transform-mat4/index.js","webpack://polygonjs-engine/./node_modules/geo-identify-position-format/index.js","webpack://polygonjs-engine/./node_modules/gl-vec3/epsilon.js","webpack://polygonjs-engine/./node_modules/gl-vec3/create.js","webpack://polygonjs-engine/./node_modules/gl-vec3/fromValues.js","webpack://polygonjs-engine/./node_modules/gl-vec3/normalize.js","webpack://polygonjs-engine/./node_modules/gl-vec3/dot.js","webpack://polygonjs-engine/./node_modules/gl-vec3/subtract.js","webpack://polygonjs-engine/./node_modules/gl-vec3/multiply.js","webpack://polygonjs-engine/./node_modules/gl-vec3/divide.js","webpack://polygonjs-engine/./node_modules/gl-vec3/distance.js","webpack://polygonjs-engine/./node_modules/gl-vec3/squaredDistance.js","webpack://polygonjs-engine/./node_modules/gl-vec3/length.js","webpack://polygonjs-engine/./node_modules/gl-vec3/squaredLength.js","webpack://polygonjs-engine/./node_modules/buffer/index.js","webpack://polygonjs-engine/./node_modules/tiny-inflate/index.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/index.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/index.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/version.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/json.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/index.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/components.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/dijkstra-all.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/find-cycles.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/floyd-warshall.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/is-acyclic.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/postorder.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/preorder.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/alg/prim.js","webpack://polygonjs-engine/./node_modules/jsep/build/jsep.js","webpack://polygonjs-engine/./node_modules/@dagrejs/graphlib/lib/lodash.js","webpack://polygonjs-engine/./node_modules/geo-ambient-occlusion/index.js","webpack://polygonjs-engine/./node_modules/geo-center/index.js","webpack://polygonjs-engine/./node_modules/lodash.defaultsdeep/index.js","webpack://polygonjs-engine/./node_modules/lodash.merge/index.js","webpack://polygonjs-engine/./node_modules/lodash._arraycopy/index.js","webpack://polygonjs-engine/./node_modules/lodash._arrayeach/index.js","webpack://polygonjs-engine/./node_modules/lodash._createassigner/index.js","webpack://polygonjs-engine/./node_modules/lodash._bindcallback/index.js","webpack://polygonjs-engine/./node_modules/lodash._isiterateecall/index.js","webpack://polygonjs-engine/./node_modules/lodash.isplainobject/index.js","webpack://polygonjs-engine/./node_modules/lodash._basefor/index.js","webpack://polygonjs-engine/./node_modules/lodash.istypedarray/index.js","webpack://polygonjs-engine/./node_modules/lodash.keys/index.js","webpack://polygonjs-engine/./node_modules/lodash._getnative/index.js","webpack://polygonjs-engine/./node_modules/lodash.toplainobject/index.js","webpack://polygonjs-engine/./node_modules/lodash._basecopy/index.js","webpack://polygonjs-engine/./node_modules/is-typedarray/index.js","webpack://polygonjs-engine/./node_modules/isndarray/index.js","webpack://polygonjs-engine/./node_modules/ndarray/ndarray.js","webpack://polygonjs-engine/./node_modules/iota-array/iota.js","webpack://polygonjs-engine/./node_modules/is-buffer/index.js","webpack://polygonjs-engine/./node_modules/gl-vec3/index.js","webpack://polygonjs-engine/./node_modules/gl-vec3/clone.js","webpack://polygonjs-engine/./node_modules/gl-vec3/angle.js","webpack://polygonjs-engine/./node_modules/gl-vec3/copy.js","webpack://polygonjs-engine/./node_modules/gl-vec3/set.js","webpack://polygonjs-engine/./node_modules/gl-vec3/equals.js","webpack://polygonjs-engine/./node_modules/gl-vec3/exactEquals.js","webpack://polygonjs-engine/./node_modules/gl-vec3/add.js","webpack://polygonjs-engine/./node_modules/gl-vec3/sub.js","webpack://polygonjs-engine/./node_modules/gl-vec3/mul.js","webpack://polygonjs-engine/./node_modules/gl-vec3/div.js","webpack://polygonjs-engine/./node_modules/gl-vec3/min.js","webpack://polygonjs-engine/./node_modules/gl-vec3/max.js","webpack://polygonjs-engine/./node_modules/gl-vec3/floor.js","webpack://polygonjs-engine/./node_modules/gl-vec3/ceil.js","webpack://polygonjs-engine/./node_modules/gl-vec3/round.js","webpack://polygonjs-engine/./node_modules/gl-vec3/scale.js","webpack://polygonjs-engine/./node_modules/gl-vec3/scaleAndAdd.js","webpack://polygonjs-engine/./node_modules/gl-vec3/dist.js","webpack://polygonjs-engine/./node_modules/gl-vec3/sqrDist.js","webpack://polygonjs-engine/./node_modules/gl-vec3/len.js","webpack://polygonjs-engine/./node_modules/gl-vec3/sqrLen.js","webpack://polygonjs-engine/./node_modules/gl-vec3/negate.js","webpack://polygonjs-engine/./node_modules/gl-vec3/inverse.js","webpack://polygonjs-engine/./node_modules/gl-vec3/cross.js","webpack://polygonjs-engine/./node_modules/gl-vec3/lerp.js","webpack://polygonjs-engine/./node_modules/gl-vec3/random.js","webpack://polygonjs-engine/./node_modules/gl-vec3/transformMat4.js","webpack://polygonjs-engine/./node_modules/gl-vec3/transformMat3.js","webpack://polygonjs-engine/./node_modules/gl-vec3/transformQuat.js","webpack://polygonjs-engine/./node_modules/gl-vec3/rotateX.js","webpack://polygonjs-engine/./node_modules/gl-vec3/rotateY.js","webpack://polygonjs-engine/./node_modules/gl-vec3/rotateZ.js","webpack://polygonjs-engine/./node_modules/gl-vec3/forEach.js","webpack://polygonjs-engine/./node_modules/normals/normals.js","webpack://polygonjs-engine/./node_modules/mesh-reindex/index.js","webpack://polygonjs-engine/./node_modules/defaults/index.js","webpack://polygonjs-engine/./node_modules/clone/clone.js","webpack://polygonjs-engine/./node_modules/base64-js/index.js","webpack://polygonjs-engine/./node_modules/ieee754/index.js","webpack://polygonjs-engine/./node_modules/isarray/index.js","webpack://polygonjs-engine/./node_modules/string.prototype.codepointat/codepointat.js"],"names":["objectProto","Object","prototype","hasOwnProperty","objectToString","toString","propertyIsEnumerable","module","exports","value","isObjectLike","isLength","length","tag","type","isObject","call","isFunction","isArrayLike","isArrayLikeObject","_","Graph","opts","this","_isDirected","has","directed","_isMultigraph","multigraph","_isCompound","compound","_label","undefined","_defaultNodeLabelFn","constant","_defaultEdgeLabelFn","_nodes","_parent","_children","_in","_preds","_out","_sucs","_edgeObjs","_edgeLabels","incrementOrInitEntry","map","k","decrementOrRemoveEntry","edgeArgsToId","isDirected","v_","w_","name","v","w","tmp","isUndefined","edgeArgsToObj","edgeObj","edgeObjToId","_nodeCount","_edgeCount","isMultigraph","isCompound","setGraph","label","graph","setDefaultNodeLabel","newDefault","nodeCount","nodes","keys","sources","self","filter","isEmpty","sinks","setNodes","vs","args","arguments","each","setNode","node","hasNode","removeNode","removeEdge","e","_removeFromParentsChildList","children","child","setParent","parent","Error","ancestor","predecessors","predsV","successors","sucsV","neighbors","preds","union","isLeaf","filterNodes","copy","constructor","setEdge","edge","parents","findParent","setDefaultEdgeLabel","edgeCount","edges","values","setPath","reduce","valueSpecified","arg0","freeze","hasEdge","inEdges","u","inV","outEdges","outV","nodeEdges","concat","webpackPolyfill","deprecate","paths","defineProperty","enumerable","get","l","i","reIsHostCtor","object","key","fnToString","Function","objToString","reIsNative","RegExp","replace","nativeIsArray","test","isNative","Array","isArray","geoid","ndarray","convert","positions","format","stride","TYPED_ARRAY","FLAT_ARRAY","ARRAY_OF_ARRAYS","ARRAY_OF_TYPED_ARRAYS","NDARRAY","indexOf","intermediate","oldFormat","identify","Float32Array","push","apply","data","slice","outer","j","jtotal","inner","g","window","extendStatics","d","b","setPrototypeOf","__proto__","p","__extends","__","create","__assign","assign","t","s","n","__rest","getOwnPropertySymbols","__decorate","decorators","target","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","sent","trys","ops","verb","Symbol","iterator","op","TypeError","pop","__exportStar","m","__values","o","__read","ar","error","__spread","__spreadArrays","il","a","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","default","__importDefault","__classPrivateFieldGet","receiver","privateMap","__classPrivateFieldSet","set","PriorityQueue","source","weightFn","edgeFn","vEntry","results","pq","updateNeighbors","wEntry","weight","distance","predecessor","decrease","forEach","Number","POSITIVE_INFINITY","add","size","removeMin","runDijkstra","String","DEFAULT_WEIGHT_FUNC","_arr","_keyIndices","x","priority","index","min","keyIndices","arr","_decrease","_swap","_heapify","largest","origArrI","origArrJ","stack","visited","dfs","entry","onStack","lowlink","Math","cmpt","topsort","visit","CycleException","order","navigation","bind","acc","doDfs","postorder","nativeMax","max","func","start","rest","otherArgs","isArguments","reIsUint","isIndex","Ctor","isProto","skipIndexes","dimensions","Infinity","position","geoconv","vec3","oldfmt","newpos","transformMat4","ista","isnd","out","z","len","sqrt","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","arg","encodingOrOffset","allocUnsafe","from","ArrayBuffer","array","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","fromString","obj","isBuffer","checked","buffer","val","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","hexWrite","offset","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","list","pos","swap16","swap32","swap64","equals","inspect","match","join","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","ret","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","leadSurrogate","toByteArray","trim","stringtrim","base64clean","src","dst","Tree","table","Uint16Array","trans","Data","dest","sourceIndex","bitcount","destLen","ltree","dtree","sltree","sdtree","length_bits","length_base","dist_bits","dist_base","clcidx","code_tree","lengths","tinf_build_bits_base","bits","base","delta","first","sum","offs","tinf_build_tree","off","num","tinf_getbit","bit","tinf_read_bits","tinf_decode_symbol","cur","tinf_decode_trees","lt","dt","hlit","hdist","hclen","clen","sym","prev","tinf_inflate_block_data","dist","tinf_inflate_uncompressed_block","tinf_build_fixed_trees","bfinal","lib","json","alg","version","writeNodes","nodeValue","writeEdges","edgeValue","options","clone","components","dijkstra","dijkstraAll","findCycles","floydWarshall","isAcyclic","preorder","prim","tarjan","cmpts","weightFunc","edgeFunc","transform","rowK","rowI","ik","kj","ij","altDistance","runFloydWarshall","pri","edgeWeight","init","root","throwError","message","description","unary_ops","binary_ops","getMaxKeyLen","max_len","max_unop_len","max_binop_len","literals","binaryPrecedence","op_val","createBinaryExpression","operator","left","right","isDecimalDigit","ch","isIdentifierStart","isIdentifierPart","jsep","expr","ch_i","charAtFunc","charAt","charCodeAtFunc","exprI","exprICode","gobbleSpaces","gobbleExpression","consequent","alternate","gobbleBinaryExpression","gobbleBinaryOp","to_check","tc_len","biop","prec","biop_info","gobbleToken","gobbleNumericLiteral","gobbleStringLiteral","gobbleArray","argument","prefix","gobbleVariable","chCode","number","parseFloat","quote","closed","gobbleIdentifier","identifier","gobbleArguments","termination","gobbleGroup","computed","property","callee","elements","addUnaryOp","op_name","addBinaryOp","precedence","addLiteral","literal_name","literal_value","removeUnaryOp","removeAllUnaryOps","removeBinaryOp","removeAllBinaryOps","removeLiteral","removeAllLiterals","parse","lodash","REGL","mat4","center","boundingBox","converter","vertexNormals","reindex","defaults","cells","regl","bias","resolution","bb","scale","scaleMat4","vertexData","normals","mesh","normalData","vertexCount","vertexTextureRes","vertexDataArray","normalDataArray","extensions","hasExtension","ownregl","canvas","document","createElement","fboPosition","fbo","cmdPositionObj","vert","frag","attributes","uniforms","model","prop","projection","viewport","width","height","framebuffer","count","cmdPosition","fboOcclusion","tVertex","texture","tNormal","cmdOcclusion","tPosition","tSource","occlusionIndex","occlusionCount","ortho","colorFormat","colorType","sample","destination","rotateX","random","rotateY","rotateZ","clear","color","depth","report","pixels","use","total","dispose","destroy","tform","_translate","translate","merge","restParam","assigner","customizer","defaultsDeep","mergeDefaults","objectValue","sourceValue","arrayCopy","arrayEach","createAssigner","isPlainObject","isTypedArray","toPlainObject","getLength","baseMerge","stackA","stackB","isSrcArr","props","srcValue","mergeFunc","isCommon","baseMergeDeep","iteratee","bindCallback","isIterateeCall","guard","identity","argCount","collection","accumulator","other","baseFor","keysIn","subValue","fromRight","keysFunc","iterable","typedArrayTags","getNative","nativeKeys","shimKeys","propsLength","allowIndexes","baseCopy","strict","isStrictTypedArray","loose","isLooseTypedArray","names","Int8Array","Int16Array","Int32Array","Uint8ClampedArray","Uint32Array","Float64Array","dtype","iota","hasTypedArrays","compare1st","terms","abs","sort","compileConstructor","dimension","className","useGetters","procedure","CACHED_CONSTRUCTORS","indices","index_str","shapeArg","strideArg","a_vars","c_vars","tShape","tStride","idx","shape","ctor","sz","arrayDType","ctor_list","isSlowBuffer","EPSILON","angle","fromValues","exactEquals","subtract","multiply","divide","div","ceil","round","scaleAndAdd","squaredDistance","sqrDist","squaredLength","sqrLen","negate","inverse","normalize","dot","cross","lerp","transformMat3","transformQuat","tempA","tempB","cosine","acos","a0","a1","a2","b0","b1","b2","ax","ay","az","bx","by","bz","PI","zScale","cos","sin","qx","qy","qz","qw","ix","iy","iz","iw","py","pz","sc","cc","px","fn","vec","faces","specifiedEpsilon","N","epsilon","v0","v1","v2","d01","m01","d21","m21","norm","faceNormals","cel","circular","allParents","allChildren","useBuffer","_clone","proto","__isArray","__isRegExp","__getRegExpFlags","lastIndex","__isDate","Date","getTime","getPrototypeOf","attrs","__objToStr","re","flags","ignoreCase","multiline","clonePrototype","b64","lens","getLens","validLen","placeHoldersLen","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","lookup","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","log","LN2","codePointAt","$defineProperty","second"],"mappings":"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","file":"vendor.js","sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = isArguments;\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\n\nmodule.exports = Graph;\n\nvar DEFAULT_EDGE_NAME = \"\\x00\";\nvar GRAPH_NODE = \"\\x00\";\nvar EDGE_KEY_DELIM = \"\\x01\";\n\n// Implementation notes:\n//\n//  * Node id query functions should return string ids for the nodes\n//  * Edge id query functions should return an \"edgeObj\", edge object, that is\n//    composed of enough information to uniquely identify an edge: {v, w, name}.\n//  * Internally we use an \"edgeId\", a stringified form of the edgeObj, to\n//    reference edges. This is because we need a performant way to look these\n//    edges up and, object properties, which have string keys, are the closest\n//    we're going to get to a performant hashtable in JavaScript.\n\nfunction Graph(opts) {\n  this._isDirected = _.has(opts, \"directed\") ? opts.directed : true;\n  this._isMultigraph = _.has(opts, \"multigraph\") ? opts.multigraph : false;\n  this._isCompound = _.has(opts, \"compound\") ? opts.compound : false;\n\n  // Label for the graph itself\n  this._label = undefined;\n\n  // Defaults to be set when creating a new node\n  this._defaultNodeLabelFn = _.constant(undefined);\n\n  // Defaults to be set when creating a new edge\n  this._defaultEdgeLabelFn = _.constant(undefined);\n\n  // v -> label\n  this._nodes = {};\n\n  if (this._isCompound) {\n    // v -> parent\n    this._parent = {};\n\n    // v -> children\n    this._children = {};\n    this._children[GRAPH_NODE] = {};\n  }\n\n  // v -> edgeObj\n  this._in = {};\n\n  // u -> v -> Number\n  this._preds = {};\n\n  // v -> edgeObj\n  this._out = {};\n\n  // v -> w -> Number\n  this._sucs = {};\n\n  // e -> edgeObj\n  this._edgeObjs = {};\n\n  // e -> label\n  this._edgeLabels = {};\n}\n\n/* Number of nodes in the graph. Should only be changed by the implementation. */\nGraph.prototype._nodeCount = 0;\n\n/* Number of edges in the graph. Should only be changed by the implementation. */\nGraph.prototype._edgeCount = 0;\n\n\n/* === Graph functions ========= */\n\nGraph.prototype.isDirected = function() {\n  return this._isDirected;\n};\n\nGraph.prototype.isMultigraph = function() {\n  return this._isMultigraph;\n};\n\nGraph.prototype.isCompound = function() {\n  return this._isCompound;\n};\n\nGraph.prototype.setGraph = function(label) {\n  this._label = label;\n  return this;\n};\n\nGraph.prototype.graph = function() {\n  return this._label;\n};\n\n\n/* === Node functions ========== */\n\nGraph.prototype.setDefaultNodeLabel = function(newDefault) {\n  if (!_.isFunction(newDefault)) {\n    newDefault = _.constant(newDefault);\n  }\n  this._defaultNodeLabelFn = newDefault;\n  return this;\n};\n\nGraph.prototype.nodeCount = function() {\n  return this._nodeCount;\n};\n\nGraph.prototype.nodes = function() {\n  return _.keys(this._nodes);\n};\n\nGraph.prototype.sources = function() {\n  var self = this;\n  return _.filter(this.nodes(), function(v) {\n    return _.isEmpty(self._in[v]);\n  });\n};\n\nGraph.prototype.sinks = function() {\n  var self = this;\n  return _.filter(this.nodes(), function(v) {\n    return _.isEmpty(self._out[v]);\n  });\n};\n\nGraph.prototype.setNodes = function(vs, value) {\n  var args = arguments;\n  var self = this;\n  _.each(vs, function(v) {\n    if (args.length > 1) {\n      self.setNode(v, value);\n    } else {\n      self.setNode(v);\n    }\n  });\n  return this;\n};\n\nGraph.prototype.setNode = function(v, value) {\n  if (_.has(this._nodes, v)) {\n    if (arguments.length > 1) {\n      this._nodes[v] = value;\n    }\n    return this;\n  }\n\n  this._nodes[v] = arguments.length > 1 ? value : this._defaultNodeLabelFn(v);\n  if (this._isCompound) {\n    this._parent[v] = GRAPH_NODE;\n    this._children[v] = {};\n    this._children[GRAPH_NODE][v] = true;\n  }\n  this._in[v] = {};\n  this._preds[v] = {};\n  this._out[v] = {};\n  this._sucs[v] = {};\n  ++this._nodeCount;\n  return this;\n};\n\nGraph.prototype.node = function(v) {\n  return this._nodes[v];\n};\n\nGraph.prototype.hasNode = function(v) {\n  return _.has(this._nodes, v);\n};\n\nGraph.prototype.removeNode =  function(v) {\n  var self = this;\n  if (_.has(this._nodes, v)) {\n    var removeEdge = function(e) { self.removeEdge(self._edgeObjs[e]); };\n    delete this._nodes[v];\n    if (this._isCompound) {\n      this._removeFromParentsChildList(v);\n      delete this._parent[v];\n      _.each(this.children(v), function(child) {\n        self.setParent(child);\n      });\n      delete this._children[v];\n    }\n    _.each(_.keys(this._in[v]), removeEdge);\n    delete this._in[v];\n    delete this._preds[v];\n    _.each(_.keys(this._out[v]), removeEdge);\n    delete this._out[v];\n    delete this._sucs[v];\n    --this._nodeCount;\n  }\n  return this;\n};\n\nGraph.prototype.setParent = function(v, parent) {\n  if (!this._isCompound) {\n    throw new Error(\"Cannot set parent in a non-compound graph\");\n  }\n\n  if (_.isUndefined(parent)) {\n    parent = GRAPH_NODE;\n  } else {\n    // Coerce parent to string\n    parent += \"\";\n    for (var ancestor = parent;\n      !_.isUndefined(ancestor);\n      ancestor = this.parent(ancestor)) {\n      if (ancestor === v) {\n        throw new Error(\"Setting \" + parent+ \" as parent of \" + v +\n                        \" would create a cycle\");\n      }\n    }\n\n    this.setNode(parent);\n  }\n\n  this.setNode(v);\n  this._removeFromParentsChildList(v);\n  this._parent[v] = parent;\n  this._children[parent][v] = true;\n  return this;\n};\n\nGraph.prototype._removeFromParentsChildList = function(v) {\n  delete this._children[this._parent[v]][v];\n};\n\nGraph.prototype.parent = function(v) {\n  if (this._isCompound) {\n    var parent = this._parent[v];\n    if (parent !== GRAPH_NODE) {\n      return parent;\n    }\n  }\n};\n\nGraph.prototype.children = function(v) {\n  if (_.isUndefined(v)) {\n    v = GRAPH_NODE;\n  }\n\n  if (this._isCompound) {\n    var children = this._children[v];\n    if (children) {\n      return _.keys(children);\n    }\n  } else if (v === GRAPH_NODE) {\n    return this.nodes();\n  } else if (this.hasNode(v)) {\n    return [];\n  }\n};\n\nGraph.prototype.predecessors = function(v) {\n  var predsV = this._preds[v];\n  if (predsV) {\n    return _.keys(predsV);\n  }\n};\n\nGraph.prototype.successors = function(v) {\n  var sucsV = this._sucs[v];\n  if (sucsV) {\n    return _.keys(sucsV);\n  }\n};\n\nGraph.prototype.neighbors = function(v) {\n  var preds = this.predecessors(v);\n  if (preds) {\n    return _.union(preds, this.successors(v));\n  }\n};\n\nGraph.prototype.isLeaf = function (v) {\n  var neighbors;\n  if (this.isDirected()) {\n    neighbors = this.successors(v);\n  } else {\n    neighbors = this.neighbors(v);\n  }\n  return neighbors.length === 0;\n};\n\nGraph.prototype.filterNodes = function(filter) {\n  var copy = new this.constructor({\n    directed: this._isDirected,\n    multigraph: this._isMultigraph,\n    compound: this._isCompound\n  });\n\n  copy.setGraph(this.graph());\n\n  var self = this;\n  _.each(this._nodes, function(value, v) {\n    if (filter(v)) {\n      copy.setNode(v, value);\n    }\n  });\n\n  _.each(this._edgeObjs, function(e) {\n    if (copy.hasNode(e.v) && copy.hasNode(e.w)) {\n      copy.setEdge(e, self.edge(e));\n    }\n  });\n\n  var parents = {};\n  function findParent(v) {\n    var parent = self.parent(v);\n    if (parent === undefined || copy.hasNode(parent)) {\n      parents[v] = parent;\n      return parent;\n    } else if (parent in parents) {\n      return parents[parent];\n    } else {\n      return findParent(parent);\n    }\n  }\n\n  if (this._isCompound) {\n    _.each(copy.nodes(), function(v) {\n      copy.setParent(v, findParent(v));\n    });\n  }\n\n  return copy;\n};\n\n/* === Edge functions ========== */\n\nGraph.prototype.setDefaultEdgeLabel = function(newDefault) {\n  if (!_.isFunction(newDefault)) {\n    newDefault = _.constant(newDefault);\n  }\n  this._defaultEdgeLabelFn = newDefault;\n  return this;\n};\n\nGraph.prototype.edgeCount = function() {\n  return this._edgeCount;\n};\n\nGraph.prototype.edges = function() {\n  return _.values(this._edgeObjs);\n};\n\nGraph.prototype.setPath = function(vs, value) {\n  var self = this;\n  var args = arguments;\n  _.reduce(vs, function(v, w) {\n    if (args.length > 1) {\n      self.setEdge(v, w, value);\n    } else {\n      self.setEdge(v, w);\n    }\n    return w;\n  });\n  return this;\n};\n\n/*\n * setEdge(v, w, [value, [name]])\n * setEdge({ v, w, [name] }, [value])\n */\nGraph.prototype.setEdge = function() {\n  var v, w, name, value;\n  var valueSpecified = false;\n  var arg0 = arguments[0];\n\n  if (typeof arg0 === \"object\" && arg0 !== null && \"v\" in arg0) {\n    v = arg0.v;\n    w = arg0.w;\n    name = arg0.name;\n    if (arguments.length === 2) {\n      value = arguments[1];\n      valueSpecified = true;\n    }\n  } else {\n    v = arg0;\n    w = arguments[1];\n    name = arguments[3];\n    if (arguments.length > 2) {\n      value = arguments[2];\n      valueSpecified = true;\n    }\n  }\n\n  v = \"\" + v;\n  w = \"\" + w;\n  if (!_.isUndefined(name)) {\n    name = \"\" + name;\n  }\n\n  var e = edgeArgsToId(this._isDirected, v, w, name);\n  if (_.has(this._edgeLabels, e)) {\n    if (valueSpecified) {\n      this._edgeLabels[e] = value;\n    }\n    return this;\n  }\n\n  if (!_.isUndefined(name) && !this._isMultigraph) {\n    throw new Error(\"Cannot set a named edge when isMultigraph = false\");\n  }\n\n  // It didn't exist, so we need to create it.\n  // First ensure the nodes exist.\n  this.setNode(v);\n  this.setNode(w);\n\n  this._edgeLabels[e] = valueSpecified ? value : this._defaultEdgeLabelFn(v, w, name);\n\n  var edgeObj = edgeArgsToObj(this._isDirected, v, w, name);\n  // Ensure we add undirected edges in a consistent way.\n  v = edgeObj.v;\n  w = edgeObj.w;\n\n  Object.freeze(edgeObj);\n  this._edgeObjs[e] = edgeObj;\n  incrementOrInitEntry(this._preds[w], v);\n  incrementOrInitEntry(this._sucs[v], w);\n  this._in[w][e] = edgeObj;\n  this._out[v][e] = edgeObj;\n  this._edgeCount++;\n  return this;\n};\n\nGraph.prototype.edge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  return this._edgeLabels[e];\n};\n\nGraph.prototype.hasEdge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  return _.has(this._edgeLabels, e);\n};\n\nGraph.prototype.removeEdge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  var edge = this._edgeObjs[e];\n  if (edge) {\n    v = edge.v;\n    w = edge.w;\n    delete this._edgeLabels[e];\n    delete this._edgeObjs[e];\n    decrementOrRemoveEntry(this._preds[w], v);\n    decrementOrRemoveEntry(this._sucs[v], w);\n    delete this._in[w][e];\n    delete this._out[v][e];\n    this._edgeCount--;\n  }\n  return this;\n};\n\nGraph.prototype.inEdges = function(v, u) {\n  var inV = this._in[v];\n  if (inV) {\n    var edges = _.values(inV);\n    if (!u) {\n      return edges;\n    }\n    return _.filter(edges, function(edge) { return edge.v === u; });\n  }\n};\n\nGraph.prototype.outEdges = function(v, w) {\n  var outV = this._out[v];\n  if (outV) {\n    var edges = _.values(outV);\n    if (!w) {\n      return edges;\n    }\n    return _.filter(edges, function(edge) { return edge.w === w; });\n  }\n};\n\nGraph.prototype.nodeEdges = function(v, w) {\n  var inEdges = this.inEdges(v, w);\n  if (inEdges) {\n    return inEdges.concat(this.outEdges(v, w));\n  }\n};\n\nfunction incrementOrInitEntry(map, k) {\n  if (map[k]) {\n    map[k]++;\n  } else {\n    map[k] = 1;\n  }\n}\n\nfunction decrementOrRemoveEntry(map, k) {\n  if (!--map[k]) { delete map[k]; }\n}\n\nfunction edgeArgsToId(isDirected, v_, w_, name) {\n  var v = \"\" + v_;\n  var w = \"\" + w_;\n  if (!isDirected && v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  return v + EDGE_KEY_DELIM + w + EDGE_KEY_DELIM +\n             (_.isUndefined(name) ? DEFAULT_EDGE_NAME : name);\n}\n\nfunction edgeArgsToObj(isDirected, v_, w_, name) {\n  var v = \"\" + v_;\n  var w = \"\" + w_;\n  if (!isDirected && v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  var edgeObj =  { v: v, w: w };\n  if (name) {\n    edgeObj.name = name;\n  }\n  return edgeObj;\n}\n\nfunction edgeObjToId(isDirected, edgeObj) {\n  return edgeArgsToId(isDirected, edgeObj.v, edgeObj.w, edgeObj.name);\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar arrayTag = '[object Array]',\n    funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeIsArray = getNative(Array, 'isArray');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(function() { return arguments; }());\n * // => false\n */\nvar isArray = nativeIsArray || function(value) {\n  return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n};\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = isArray;\n","'use strict'\n\nvar geoid = require('geo-identify-position-format');\nvar ndarray = require('ndarray');\n\nmodule.exports = {\n    convert: convert,\n    FLAT_ARRAY: geoid.FLAT_ARRAY,\n    ARRAY_OF_ARRAYS: geoid.ARRAY_OF_ARRAYS,\n    TYPED_ARRAY: geoid.TYPED_ARRAY,\n    ARRAY_OF_TYPED_ARRAYS: geoid.ARRAY_OF_TYPED_ARRAYS,\n    NDARRAY: geoid.NDARRAY\n}\n\nfunction convert(positions, format, stride) {\n    // Validate the target format.\n    format = format === undefined ? geoid.TYPED_ARRAY : format;\n    var validTypes = [\n        geoid.FLAT_ARRAY,\n        geoid.ARRAY_OF_ARRAYS,\n        geoid.TYPED_ARRAY,\n        geoid.ARRAY_OF_TYPED_ARRAYS,\n        geoid.NDARRAY\n    ]\n    if (validTypes.indexOf(format) === -1) {\n        throw new Error('geo-convert-position-format: Unknown target format ' + format);\n    }\n\n    // Get the old format.\n    var oldFormat = geoid.identify(positions);\n\n    // Convert to flat TypedArray.\n    var intermediate;\n    if (oldFormat === geoid.FLAT_ARRAY) {\n        intermediate = new Float32Array(positions);\n    } else if (oldFormat === geoid.TYPED_ARRAY) {\n        intermediate = new Float32Array(positions);\n    } else if (oldFormat === geoid.ARRAY_OF_ARRAYS) {\n        intermediate = [];\n        for (var i = 0; i < positions.length; i++) {\n            intermediate.push.apply(intermediate, positions[i]);\n        }\n        intermediate = new Float32Array(intermediate);\n    } else if (oldFormat === geoid.ARRAY_OF_TYPED_ARRAYS) {\n        intermediate = [];\n        for (var i = 0; i < positions.length; i++) {\n            intermediate.push.apply(intermediate, positions[i]);\n        }\n        intermediate = new Float32Array(intermediate);\n    } else if (oldFormat === geoid.NDARRAY) {\n        intermediate = new Float32Array(positions.data);\n    } else {\n        throw new Error('geo-convert-position-format: Could not convert from incoming format ' + oldFormat);\n    }\n\n    // Validate the stride or guess it.\n    if (stride === undefined) {\n        if (intermediate.length % 3 === 0) {\n            stride = 3;\n        } else if (intermediate.length % 2 === 0) {\n            stride = 2;\n        } else {\n            // Not sure if this will ever make sense, but tossing it in. Might\n            // want to throw if we can't get 3 or 2 and the target format is\n            // ARRAY_OF_*.\n            stride = 1;\n        }\n    }\n    if ([1,2,3].indexOf(stride) === -1) {\n        throw new Error('geo-convert-position-format: Stride ' + stride +\n                        ' not a valid stride - must be 1, 2, or 3');\n    }\n    if (intermediate.length % stride !== 0) {\n        throw new Error('geo-convert-position-format: Stride ' + stride +\n                        ' incompatible with element count ' + intermediate.length);\n    }\n\n\n    // Convert the immediate form to the target format.\n    if (format === geoid.TYPED_ARRAY) {\n        return intermediate;\n    } else if (format === geoid.FLAT_ARRAY) {\n        return Array.prototype.slice.call(intermediate);\n    } else if (format === geoid.ARRAY_OF_ARRAYS) {\n        var outer = [];\n        var i = 0;\n        for (var j = 0, jtotal = intermediate.length/stride; j < jtotal; j++) {\n            var inner = [];\n            for (var k = 0; k < stride; k++) {\n                inner.push(intermediate[i++]);\n            }\n            outer.push(inner);\n        }\n        return outer;\n    } else if (format === geoid.ARRAY_OF_TYPED_ARRAYS) {\n        var outer = [];\n        var i = 0;\n        for (var j = 0, jtotal = intermediate.length/stride; j < jtotal; j++) {\n            var inner = [];\n            for (var k = 0; k < stride; k++) {\n                inner.push(intermediate[i++]);\n            }\n            outer.push(new Float32Array(inner));\n        }\n        return outer;\n    } else if (format === geoid.NDARRAY) {\n        return ndarray(intermediate);\n    }\n\n    throw new Error('geo-convert-position-format: Could not convert to target format ' + format);\n\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var _ = require(\"../lodash\");\nvar PriorityQueue = require(\"../data/priority-queue\");\n\nmodule.exports = dijkstra;\n\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\nfunction dijkstra(g, source, weightFn, edgeFn) {\n  return runDijkstra(g, String(source),\n    weightFn || DEFAULT_WEIGHT_FUNC,\n    edgeFn || function(v) { return g.outEdges(v); });\n}\n\nfunction runDijkstra(g, source, weightFn, edgeFn) {\n  var results = {};\n  var pq = new PriorityQueue();\n  var v, vEntry;\n\n  var updateNeighbors = function(edge) {\n    var w = edge.v !== v ? edge.v : edge.w;\n    var wEntry = results[w];\n    var weight = weightFn(edge);\n    var distance = vEntry.distance + weight;\n\n    if (weight < 0) {\n      throw new Error(\"dijkstra does not allow negative edge weights. \" +\n                      \"Bad edge: \" + edge + \" Weight: \" + weight);\n    }\n\n    if (distance < wEntry.distance) {\n      wEntry.distance = distance;\n      wEntry.predecessor = v;\n      pq.decrease(w, distance);\n    }\n  };\n\n  g.nodes().forEach(function(v) {\n    var distance = v === source ? 0 : Number.POSITIVE_INFINITY;\n    results[v] = { distance: distance };\n    pq.add(v, distance);\n  });\n\n  while (pq.size() > 0) {\n    v = pq.removeMin();\n    vEntry = results[v];\n    if (vEntry.distance === Number.POSITIVE_INFINITY) {\n      break;\n    }\n\n    edgeFn(v).forEach(updateNeighbors);\n  }\n\n  return results;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = PriorityQueue;\n\n/**\n * A min-priority queue data structure. This algorithm is derived from Cormen,\n * et al., \"Introduction to Algorithms\". The basic idea of a min-priority\n * queue is that you can efficiently (in O(1) time) get the smallest key in\n * the queue. Adding and removing elements takes O(log n) time. A key can\n * have its priority decreased in O(log n) time.\n */\nfunction PriorityQueue() {\n  this._arr = [];\n  this._keyIndices = {};\n}\n\n/**\n * Returns the number of elements in the queue. Takes `O(1)` time.\n */\nPriorityQueue.prototype.size = function() {\n  return this._arr.length;\n};\n\n/**\n * Returns the keys that are in the queue. Takes `O(n)` time.\n */\nPriorityQueue.prototype.keys = function() {\n  return this._arr.map(function(x) { return x.key; });\n};\n\n/**\n * Returns `true` if **key** is in the queue and `false` if not.\n */\nPriorityQueue.prototype.has = function(key) {\n  return _.has(this._keyIndices, key);\n};\n\n/**\n * Returns the priority for **key**. If **key** is not present in the queue\n * then this function returns `undefined`. Takes `O(1)` time.\n *\n * @param {Object} key\n */\nPriorityQueue.prototype.priority = function(key) {\n  var index = this._keyIndices[key];\n  if (index !== undefined) {\n    return this._arr[index].priority;\n  }\n};\n\n/**\n * Returns the key for the minimum element in this queue. If the queue is\n * empty this function throws an Error. Takes `O(1)` time.\n */\nPriorityQueue.prototype.min = function() {\n  if (this.size() === 0) {\n    throw new Error(\"Queue underflow\");\n  }\n  return this._arr[0].key;\n};\n\n/**\n * Inserts a new key into the priority queue. If the key already exists in\n * the queue this function returns `false`; otherwise it will return `true`.\n * Takes `O(n)` time.\n *\n * @param {Object} key the key to add\n * @param {Number} priority the initial priority for the key\n */\nPriorityQueue.prototype.add = function(key, priority) {\n  var keyIndices = this._keyIndices;\n  key = String(key);\n  if (!_.has(keyIndices, key)) {\n    var arr = this._arr;\n    var index = arr.length;\n    keyIndices[key] = index;\n    arr.push({key: key, priority: priority});\n    this._decrease(index);\n    return true;\n  }\n  return false;\n};\n\n/**\n * Removes and returns the smallest key in the queue. Takes `O(log n)` time.\n */\nPriorityQueue.prototype.removeMin = function() {\n  this._swap(0, this._arr.length - 1);\n  var min = this._arr.pop();\n  delete this._keyIndices[min.key];\n  this._heapify(0);\n  return min.key;\n};\n\n/**\n * Decreases the priority for **key** to **priority**. If the new priority is\n * greater than the previous priority, this function will throw an Error.\n *\n * @param {Object} key the key for which to raise priority\n * @param {Number} priority the new priority for the key\n */\nPriorityQueue.prototype.decrease = function(key, priority) {\n  var index = this._keyIndices[key];\n  if (priority > this._arr[index].priority) {\n    throw new Error(\"New priority is greater than current priority. \" +\n        \"Key: \" + key + \" Old: \" + this._arr[index].priority + \" New: \" + priority);\n  }\n  this._arr[index].priority = priority;\n  this._decrease(index);\n};\n\nPriorityQueue.prototype._heapify = function(i) {\n  var arr = this._arr;\n  var l = 2 * i;\n  var r = l + 1;\n  var largest = i;\n  if (l < arr.length) {\n    largest = arr[l].priority < arr[largest].priority ? l : largest;\n    if (r < arr.length) {\n      largest = arr[r].priority < arr[largest].priority ? r : largest;\n    }\n    if (largest !== i) {\n      this._swap(i, largest);\n      this._heapify(largest);\n    }\n  }\n};\n\nPriorityQueue.prototype._decrease = function(index) {\n  var arr = this._arr;\n  var priority = arr[index].priority;\n  var parent;\n  while (index !== 0) {\n    parent = index >> 1;\n    if (arr[parent].priority < priority) {\n      break;\n    }\n    this._swap(index, parent);\n    index = parent;\n  }\n};\n\nPriorityQueue.prototype._swap = function(i, j) {\n  var arr = this._arr;\n  var keyIndices = this._keyIndices;\n  var origArrI = arr[i];\n  var origArrJ = arr[j];\n  arr[i] = origArrJ;\n  arr[j] = origArrI;\n  keyIndices[origArrJ.key] = i;\n  keyIndices[origArrI.key] = j;\n};\n","var _ = require(\"../lodash\");\n\nmodule.exports = tarjan;\n\nfunction tarjan(g) {\n  var index = 0;\n  var stack = [];\n  var visited = {}; // node id -> { onStack, lowlink, index }\n  var results = [];\n\n  function dfs(v) {\n    var entry = visited[v] = {\n      onStack: true,\n      lowlink: index,\n      index: index++\n    };\n    stack.push(v);\n\n    g.successors(v).forEach(function(w) {\n      if (!_.has(visited, w)) {\n        dfs(w);\n        entry.lowlink = Math.min(entry.lowlink, visited[w].lowlink);\n      } else if (visited[w].onStack) {\n        entry.lowlink = Math.min(entry.lowlink, visited[w].index);\n      }\n    });\n\n    if (entry.lowlink === entry.index) {\n      var cmpt = [];\n      var w;\n      do {\n        w = stack.pop();\n        visited[w].onStack = false;\n        cmpt.push(w);\n      } while (v !== w);\n      results.push(cmpt);\n    }\n  }\n\n  g.nodes().forEach(function(v) {\n    if (!_.has(visited, v)) {\n      dfs(v);\n    }\n  });\n\n  return results;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = topsort;\ntopsort.CycleException = CycleException;\n\nfunction topsort(g) {\n  var visited = {};\n  var stack = {};\n  var results = [];\n\n  function visit(node) {\n    if (_.has(stack, node)) {\n      throw new CycleException();\n    }\n\n    if (!_.has(visited, node)) {\n      stack[node] = true;\n      visited[node] = true;\n      _.each(g.predecessors(node), visit);\n      delete stack[node];\n      results.push(node);\n    }\n  }\n\n  _.each(g.sinks(), visit);\n\n  if (_.size(visited) !== g.nodeCount()) {\n    throw new CycleException();\n  }\n\n  return results;\n}\n\nfunction CycleException() {}\nCycleException.prototype = new Error(); // must be an instance of Error to pass testing","var _ = require(\"../lodash\");\n\nmodule.exports = dfs;\n\n/*\n * A helper that preforms a pre- or post-order traversal on the input graph\n * and returns the nodes in the order they were visited. If the graph is\n * undirected then this algorithm will navigate using neighbors. If the graph\n * is directed then this algorithm will navigate using successors.\n *\n * Order must be one of \"pre\" or \"post\".\n */\nfunction dfs(g, vs, order) {\n  if (!_.isArray(vs)) {\n    vs = [vs];\n  }\n\n  var navigation = (g.isDirected() ? g.successors : g.neighbors).bind(g);\n\n  var acc = [];\n  var visited = {};\n  _.each(vs, function(v) {\n    if (!g.hasNode(v)) {\n      throw new Error(\"Graph does not have node: \" + v);\n    }\n\n    doDfs(g, v, order === \"post\", visited, navigation, acc);\n  });\n  return acc;\n}\n\nfunction doDfs(g, v, postorder, visited, navigation, acc) {\n  if (!_.has(visited, v)) {\n    visited[v] = true;\n\n    if (!postorder) { acc.push(v); }\n    _.each(navigation(v), function(w) {\n      doDfs(g, w, postorder, visited, navigation, acc);\n    });\n    if (postorder) { acc.push(v); }\n  }\n}\n","/**\n * lodash 3.6.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of the\n * created function and arguments from `start` and beyond provided as an array.\n *\n * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var say = _.restParam(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n *\n * say('hello', 'fred', 'barney', 'pebbles');\n * // => 'hello fred, barney, & pebbles'\n */\nfunction restParam(func, start) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        rest = Array(length);\n\n    while (++index < length) {\n      rest[index] = args[start + index];\n    }\n    switch (start) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, args[0], rest);\n      case 2: return func.call(this, args[0], args[1], rest);\n    }\n    var otherArgs = Array(start + 1);\n    index = -1;\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = rest;\n    return func.apply(this, otherArgs);\n  };\n}\n\nmodule.exports = restParam;\n","/**\n * lodash 3.0.8 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar isArguments = require('lodash.isarguments'),\n    isArray = require('lodash.isarray');\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  if (object == null) {\n    return [];\n  }\n  if (!isObject(object)) {\n    object = Object(object);\n  }\n  var length = object.length;\n  length = (length && isLength(length) &&\n    (isArray(object) || isArguments(object)) && length) || 0;\n\n  var Ctor = object.constructor,\n      index = -1,\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n      result = Array(length),\n      skipIndexes = length > 0;\n\n  while (++index < length) {\n    result[index] = (index + '');\n  }\n  for (var key in object) {\n    if (!(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keysIn;\n","\nfunction boundingBox(positions) {\n  if(positions.length === 0) {\n    return null;\n  }\n\n  var dimensions = positions[0].length;\n  var min = new Array(dimensions);\n  var max = new Array(dimensions);\n\n  for(var i=0; i<dimensions; i++) {\n    min[i] =  Infinity;\n    max[i] = -Infinity;\n  }\n\n  positions.forEach(function(position) {\n    for(var i=0; i<dimensions; i++) {\n      max[i] = position[i] > max[i] ? position[i] : max[i];\n      min[i] = position[i] < min[i] ? position[i] : min[i];\n    }\n  });\n\n  return [min, max];\n}\n\nmodule.exports = boundingBox;","'use strict'\n\nvar geoid = require('geo-identify-position-format');\nvar geoconv = require('geo-convert-position-format');\nvar vec3 = require('gl-vec3');\n\nmodule.exports = transform;\n\nfunction transform(positions, m) {\n    var oldfmt = geoid.identify(positions);\n    var newpos = geoconv.convert(positions, geoid.ARRAY_OF_ARRAYS, 3);\n    for (var i = 0; i < newpos.length; i++) {\n        vec3.transformMat4(newpos[i], newpos[i], m);\n    }\n    newpos = geoconv.convert(newpos, oldfmt, 3);\n    return newpos;\n}\n","'use strict';\n\nvar ista = require('is-typedarray')\nvar isnd = require('isndarray')\n\nvar ARRAY_OF_ARRAYS = 'array of arrays';\nvar ARRAY_OF_TYPED_ARRAYS = 'array of typed arrays';\nvar FLAT_ARRAY = 'flat array';\nvar TYPED_ARRAY = 'typed array';\nvar NDARRAY = 'ndarray';\n\nmodule.exports = {\n    identify: identify,\n    ARRAY_OF_ARRAYS: ARRAY_OF_ARRAYS,\n    ARRAY_OF_TYPED_ARRAYS: ARRAY_OF_TYPED_ARRAYS,\n    FLAT_ARRAY: FLAT_ARRAY,\n    TYPED_ARRAY: TYPED_ARRAY,\n    NDARRAY: NDARRAY\n};\n\nfunction identify(positions) {\n\n    // Array of Arrays\n    if (Array.isArray(positions) && Array.isArray(positions[0])) {\n        return ARRAY_OF_ARRAYS;\n    }\n\n    // Array of TypedArrays\n    if (Array.isArray(positions) && ista(positions[0])) {\n        return ARRAY_OF_TYPED_ARRAYS;\n    }\n\n    // Flat Array\n    if (Array.isArray(positions)) {\n        return FLAT_ARRAY;\n    }\n\n    // ndarray\n    if (isnd(positions)) {\n        return NDARRAY;\n    }\n\n    // TypedArray\n    if (ista(positions)) {\n        return TYPED_ARRAY;\n    }\n\n    throw new Error('geo-identify-position-format: Could not identify position format.')\n}\n","module.exports = 0.000001\n","module.exports = create;\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nfunction create() {\n    var out = new Float32Array(3)\n    out[0] = 0\n    out[1] = 0\n    out[2] = 0\n    return out\n}","module.exports = fromValues;\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nfunction fromValues(x, y, z) {\n    var out = new Float32Array(3)\n    out[0] = x\n    out[1] = y\n    out[2] = z\n    return out\n}","module.exports = normalize;\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nfunction normalize(out, a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2]\n    var len = x*x + y*y + z*z\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len)\n        out[0] = a[0] * len\n        out[1] = a[1] * len\n        out[2] = a[2] * len\n    }\n    return out\n}","module.exports = dot;\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nfunction dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2]\n}","module.exports = subtract;\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction subtract(out, a, b) {\n    out[0] = a[0] - b[0]\n    out[1] = a[1] - b[1]\n    out[2] = a[2] - b[2]\n    return out\n}","module.exports = multiply;\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction multiply(out, a, b) {\n    out[0] = a[0] * b[0]\n    out[1] = a[1] * b[1]\n    out[2] = a[2] * b[2]\n    return out\n}","module.exports = divide;\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction divide(out, a, b) {\n    out[0] = a[0] / b[0]\n    out[1] = a[1] / b[1]\n    out[2] = a[2] / b[2]\n    return out\n}","module.exports = distance;\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nfunction distance(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2]\n    return Math.sqrt(x*x + y*y + z*z)\n}","module.exports = squaredDistance;\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nfunction squaredDistance(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1],\n        z = b[2] - a[2]\n    return x*x + y*y + z*z\n}","module.exports = length;\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nfunction length(a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2]\n    return Math.sqrt(x*x + y*y + z*z)\n}","module.exports = squaredLength;\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nfunction squaredLength(a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2]\n    return x*x + y*y + z*z\n}","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var TINF_OK = 0;\nvar TINF_DATA_ERROR = -3;\n\nfunction Tree() {\n  this.table = new Uint16Array(16);   /* table of code length counts */\n  this.trans = new Uint16Array(288);  /* code -> symbol translation table */\n}\n\nfunction Data(source, dest) {\n  this.source = source;\n  this.sourceIndex = 0;\n  this.tag = 0;\n  this.bitcount = 0;\n  \n  this.dest = dest;\n  this.destLen = 0;\n  \n  this.ltree = new Tree();  /* dynamic length/symbol tree */\n  this.dtree = new Tree();  /* dynamic distance tree */\n}\n\n/* --------------------------------------------------- *\n * -- uninitialized global data (static structures) -- *\n * --------------------------------------------------- */\n\nvar sltree = new Tree();\nvar sdtree = new Tree();\n\n/* extra bits and base tables for length codes */\nvar length_bits = new Uint8Array(30);\nvar length_base = new Uint16Array(30);\n\n/* extra bits and base tables for distance codes */\nvar dist_bits = new Uint8Array(30);\nvar dist_base = new Uint16Array(30);\n\n/* special ordering of code length codes */\nvar clcidx = new Uint8Array([\n  16, 17, 18, 0, 8, 7, 9, 6,\n  10, 5, 11, 4, 12, 3, 13, 2,\n  14, 1, 15\n]);\n\n/* used by tinf_decode_trees, avoids allocations every call */\nvar code_tree = new Tree();\nvar lengths = new Uint8Array(288 + 32);\n\n/* ----------------------- *\n * -- utility functions -- *\n * ----------------------- */\n\n/* build extra bits and base tables */\nfunction tinf_build_bits_base(bits, base, delta, first) {\n  var i, sum;\n\n  /* build bits table */\n  for (i = 0; i < delta; ++i) bits[i] = 0;\n  for (i = 0; i < 30 - delta; ++i) bits[i + delta] = i / delta | 0;\n\n  /* build base table */\n  for (sum = first, i = 0; i < 30; ++i) {\n    base[i] = sum;\n    sum += 1 << bits[i];\n  }\n}\n\n/* build the fixed huffman trees */\nfunction tinf_build_fixed_trees(lt, dt) {\n  var i;\n\n  /* build fixed length tree */\n  for (i = 0; i < 7; ++i) lt.table[i] = 0;\n\n  lt.table[7] = 24;\n  lt.table[8] = 152;\n  lt.table[9] = 112;\n\n  for (i = 0; i < 24; ++i) lt.trans[i] = 256 + i;\n  for (i = 0; i < 144; ++i) lt.trans[24 + i] = i;\n  for (i = 0; i < 8; ++i) lt.trans[24 + 144 + i] = 280 + i;\n  for (i = 0; i < 112; ++i) lt.trans[24 + 144 + 8 + i] = 144 + i;\n\n  /* build fixed distance tree */\n  for (i = 0; i < 5; ++i) dt.table[i] = 0;\n\n  dt.table[5] = 32;\n\n  for (i = 0; i < 32; ++i) dt.trans[i] = i;\n}\n\n/* given an array of code lengths, build a tree */\nvar offs = new Uint16Array(16);\n\nfunction tinf_build_tree(t, lengths, off, num) {\n  var i, sum;\n\n  /* clear code length count table */\n  for (i = 0; i < 16; ++i) t.table[i] = 0;\n\n  /* scan symbol lengths, and sum code length counts */\n  for (i = 0; i < num; ++i) t.table[lengths[off + i]]++;\n\n  t.table[0] = 0;\n\n  /* compute offset table for distribution sort */\n  for (sum = 0, i = 0; i < 16; ++i) {\n    offs[i] = sum;\n    sum += t.table[i];\n  }\n\n  /* create code->symbol translation table (symbols sorted by code) */\n  for (i = 0; i < num; ++i) {\n    if (lengths[off + i]) t.trans[offs[lengths[off + i]]++] = i;\n  }\n}\n\n/* ---------------------- *\n * -- decode functions -- *\n * ---------------------- */\n\n/* get one bit from source stream */\nfunction tinf_getbit(d) {\n  /* check if tag is empty */\n  if (!d.bitcount--) {\n    /* load next tag */\n    d.tag = d.source[d.sourceIndex++];\n    d.bitcount = 7;\n  }\n\n  /* shift bit out of tag */\n  var bit = d.tag & 1;\n  d.tag >>>= 1;\n\n  return bit;\n}\n\n/* read a num bit value from a stream and add base */\nfunction tinf_read_bits(d, num, base) {\n  if (!num)\n    return base;\n\n  while (d.bitcount < 24) {\n    d.tag |= d.source[d.sourceIndex++] << d.bitcount;\n    d.bitcount += 8;\n  }\n\n  var val = d.tag & (0xffff >>> (16 - num));\n  d.tag >>>= num;\n  d.bitcount -= num;\n  return val + base;\n}\n\n/* given a data stream and a tree, decode a symbol */\nfunction tinf_decode_symbol(d, t) {\n  while (d.bitcount < 24) {\n    d.tag |= d.source[d.sourceIndex++] << d.bitcount;\n    d.bitcount += 8;\n  }\n  \n  var sum = 0, cur = 0, len = 0;\n  var tag = d.tag;\n\n  /* get more bits while code value is above sum */\n  do {\n    cur = 2 * cur + (tag & 1);\n    tag >>>= 1;\n    ++len;\n\n    sum += t.table[len];\n    cur -= t.table[len];\n  } while (cur >= 0);\n  \n  d.tag = tag;\n  d.bitcount -= len;\n\n  return t.trans[sum + cur];\n}\n\n/* given a data stream, decode dynamic trees from it */\nfunction tinf_decode_trees(d, lt, dt) {\n  var hlit, hdist, hclen;\n  var i, num, length;\n\n  /* get 5 bits HLIT (257-286) */\n  hlit = tinf_read_bits(d, 5, 257);\n\n  /* get 5 bits HDIST (1-32) */\n  hdist = tinf_read_bits(d, 5, 1);\n\n  /* get 4 bits HCLEN (4-19) */\n  hclen = tinf_read_bits(d, 4, 4);\n\n  for (i = 0; i < 19; ++i) lengths[i] = 0;\n\n  /* read code lengths for code length alphabet */\n  for (i = 0; i < hclen; ++i) {\n    /* get 3 bits code length (0-7) */\n    var clen = tinf_read_bits(d, 3, 0);\n    lengths[clcidx[i]] = clen;\n  }\n\n  /* build code length tree */\n  tinf_build_tree(code_tree, lengths, 0, 19);\n\n  /* decode code lengths for the dynamic trees */\n  for (num = 0; num < hlit + hdist;) {\n    var sym = tinf_decode_symbol(d, code_tree);\n\n    switch (sym) {\n      case 16:\n        /* copy previous code length 3-6 times (read 2 bits) */\n        var prev = lengths[num - 1];\n        for (length = tinf_read_bits(d, 2, 3); length; --length) {\n          lengths[num++] = prev;\n        }\n        break;\n      case 17:\n        /* repeat code length 0 for 3-10 times (read 3 bits) */\n        for (length = tinf_read_bits(d, 3, 3); length; --length) {\n          lengths[num++] = 0;\n        }\n        break;\n      case 18:\n        /* repeat code length 0 for 11-138 times (read 7 bits) */\n        for (length = tinf_read_bits(d, 7, 11); length; --length) {\n          lengths[num++] = 0;\n        }\n        break;\n      default:\n        /* values 0-15 represent the actual code lengths */\n        lengths[num++] = sym;\n        break;\n    }\n  }\n\n  /* build dynamic trees */\n  tinf_build_tree(lt, lengths, 0, hlit);\n  tinf_build_tree(dt, lengths, hlit, hdist);\n}\n\n/* ----------------------------- *\n * -- block inflate functions -- *\n * ----------------------------- */\n\n/* given a stream and two trees, inflate a block of data */\nfunction tinf_inflate_block_data(d, lt, dt) {\n  while (1) {\n    var sym = tinf_decode_symbol(d, lt);\n\n    /* check for end of block */\n    if (sym === 256) {\n      return TINF_OK;\n    }\n\n    if (sym < 256) {\n      d.dest[d.destLen++] = sym;\n    } else {\n      var length, dist, offs;\n      var i;\n\n      sym -= 257;\n\n      /* possibly get more bits from length code */\n      length = tinf_read_bits(d, length_bits[sym], length_base[sym]);\n\n      dist = tinf_decode_symbol(d, dt);\n\n      /* possibly get more bits from distance code */\n      offs = d.destLen - tinf_read_bits(d, dist_bits[dist], dist_base[dist]);\n\n      /* copy match */\n      for (i = offs; i < offs + length; ++i) {\n        d.dest[d.destLen++] = d.dest[i];\n      }\n    }\n  }\n}\n\n/* inflate an uncompressed block of data */\nfunction tinf_inflate_uncompressed_block(d) {\n  var length, invlength;\n  var i;\n  \n  /* unread from bitbuffer */\n  while (d.bitcount > 8) {\n    d.sourceIndex--;\n    d.bitcount -= 8;\n  }\n\n  /* get length */\n  length = d.source[d.sourceIndex + 1];\n  length = 256 * length + d.source[d.sourceIndex];\n\n  /* get one's complement of length */\n  invlength = d.source[d.sourceIndex + 3];\n  invlength = 256 * invlength + d.source[d.sourceIndex + 2];\n\n  /* check length */\n  if (length !== (~invlength & 0x0000ffff))\n    return TINF_DATA_ERROR;\n\n  d.sourceIndex += 4;\n\n  /* copy block */\n  for (i = length; i; --i)\n    d.dest[d.destLen++] = d.source[d.sourceIndex++];\n\n  /* make sure we start next block on a byte boundary */\n  d.bitcount = 0;\n\n  return TINF_OK;\n}\n\n/* inflate stream from source to dest */\nfunction tinf_uncompress(source, dest) {\n  var d = new Data(source, dest);\n  var bfinal, btype, res;\n\n  do {\n    /* read final block flag */\n    bfinal = tinf_getbit(d);\n\n    /* read block type (2 bits) */\n    btype = tinf_read_bits(d, 2, 0);\n\n    /* decompress block */\n    switch (btype) {\n      case 0:\n        /* decompress uncompressed block */\n        res = tinf_inflate_uncompressed_block(d);\n        break;\n      case 1:\n        /* decompress block with fixed huffman trees */\n        res = tinf_inflate_block_data(d, sltree, sdtree);\n        break;\n      case 2:\n        /* decompress block with dynamic huffman trees */\n        tinf_decode_trees(d, d.ltree, d.dtree);\n        res = tinf_inflate_block_data(d, d.ltree, d.dtree);\n        break;\n      default:\n        res = TINF_DATA_ERROR;\n    }\n\n    if (res !== TINF_OK)\n      throw new Error('Data error');\n\n  } while (!bfinal);\n\n  if (d.destLen < d.dest.length) {\n    if (typeof d.dest.slice === 'function')\n      return d.dest.slice(0, d.destLen);\n    else\n      return d.dest.subarray(0, d.destLen);\n  }\n  \n  return d.dest;\n}\n\n/* -------------------- *\n * -- initialization -- *\n * -------------------- */\n\n/* build fixed huffman trees */\ntinf_build_fixed_trees(sltree, sdtree);\n\n/* build extra bits and base tables */\ntinf_build_bits_base(length_bits, length_base, 4, 3);\ntinf_build_bits_base(dist_bits, dist_base, 2, 1);\n\n/* fix a special case */\nlength_bits[28] = 0;\nlength_base[28] = 258;\n\nmodule.exports = tinf_uncompress;\n","/**\n * Copyright (c) 2014, Chris Pettitt\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its contributors\n * may be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar lib = require(\"./lib\");\n\nmodule.exports = {\n  Graph: lib.Graph,\n  json: require(\"./lib/json\"),\n  alg: require(\"./lib/alg\"),\n  version: lib.version\n};\n","// Includes only the \"core\" of graphlib\nmodule.exports = {\n  Graph: require(\"./graph\"),\n  version: require(\"./version\")\n};\n","module.exports = '2.1.9-pre';\n","var _ = require(\"./lodash\");\nvar Graph = require(\"./graph\");\n\nmodule.exports = {\n  write: write,\n  read: read\n};\n\nfunction write(g) {\n  var json = {\n    options: {\n      directed: g.isDirected(),\n      multigraph: g.isMultigraph(),\n      compound: g.isCompound()\n    },\n    nodes: writeNodes(g),\n    edges: writeEdges(g)\n  };\n  if (!_.isUndefined(g.graph())) {\n    json.value = _.clone(g.graph());\n  }\n  return json;\n}\n\nfunction writeNodes(g) {\n  return _.map(g.nodes(), function(v) {\n    var nodeValue = g.node(v);\n    var parent = g.parent(v);\n    var node = { v: v };\n    if (!_.isUndefined(nodeValue)) {\n      node.value = nodeValue;\n    }\n    if (!_.isUndefined(parent)) {\n      node.parent = parent;\n    }\n    return node;\n  });\n}\n\nfunction writeEdges(g) {\n  return _.map(g.edges(), function(e) {\n    var edgeValue = g.edge(e);\n    var edge = { v: e.v, w: e.w };\n    if (!_.isUndefined(e.name)) {\n      edge.name = e.name;\n    }\n    if (!_.isUndefined(edgeValue)) {\n      edge.value = edgeValue;\n    }\n    return edge;\n  });\n}\n\nfunction read(json) {\n  var g = new Graph(json.options).setGraph(json.value);\n  _.each(json.nodes, function(entry) {\n    g.setNode(entry.v, entry.value);\n    if (entry.parent) {\n      g.setParent(entry.v, entry.parent);\n    }\n  });\n  _.each(json.edges, function(entry) {\n    g.setEdge({ v: entry.v, w: entry.w, name: entry.name }, entry.value);\n  });\n  return g;\n}\n","module.exports = {\n  components: require(\"./components\"),\n  dijkstra: require(\"./dijkstra\"),\n  dijkstraAll: require(\"./dijkstra-all\"),\n  findCycles: require(\"./find-cycles\"),\n  floydWarshall: require(\"./floyd-warshall\"),\n  isAcyclic: require(\"./is-acyclic\"),\n  postorder: require(\"./postorder\"),\n  preorder: require(\"./preorder\"),\n  prim: require(\"./prim\"),\n  tarjan: require(\"./tarjan\"),\n  topsort: require(\"./topsort\")\n};\n","var _ = require(\"../lodash\");\n\nmodule.exports = components;\n\nfunction components(g) {\n  var visited = {};\n  var cmpts = [];\n  var cmpt;\n\n  function dfs(v) {\n    if (_.has(visited, v)) return;\n    visited[v] = true;\n    cmpt.push(v);\n    _.each(g.successors(v), dfs);\n    _.each(g.predecessors(v), dfs);\n  }\n\n  _.each(g.nodes(), function(v) {\n    cmpt = [];\n    dfs(v);\n    if (cmpt.length) {\n      cmpts.push(cmpt);\n    }\n  });\n\n  return cmpts;\n}\n","var dijkstra = require(\"./dijkstra\");\nvar _ = require(\"../lodash\");\n\nmodule.exports = dijkstraAll;\n\nfunction dijkstraAll(g, weightFunc, edgeFunc) {\n  return _.transform(g.nodes(), function(acc, v) {\n    acc[v] = dijkstra(g, v, weightFunc, edgeFunc);\n  }, {});\n}\n","var _ = require(\"../lodash\");\nvar tarjan = require(\"./tarjan\");\n\nmodule.exports = findCycles;\n\nfunction findCycles(g) {\n  return _.filter(tarjan(g), function(cmpt) {\n    return cmpt.length > 1 || (cmpt.length === 1 && g.hasEdge(cmpt[0], cmpt[0]));\n  });\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = floydWarshall;\n\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\nfunction floydWarshall(g, weightFn, edgeFn) {\n  return runFloydWarshall(g,\n    weightFn || DEFAULT_WEIGHT_FUNC,\n    edgeFn || function(v) { return g.outEdges(v); });\n}\n\nfunction runFloydWarshall(g, weightFn, edgeFn) {\n  var results = {};\n  var nodes = g.nodes();\n\n  nodes.forEach(function(v) {\n    results[v] = {};\n    results[v][v] = { distance: 0 };\n    nodes.forEach(function(w) {\n      if (v !== w) {\n        results[v][w] = { distance: Number.POSITIVE_INFINITY };\n      }\n    });\n    edgeFn(v).forEach(function(edge) {\n      var w = edge.v === v ? edge.w : edge.v;\n      var d = weightFn(edge);\n      results[v][w] = { distance: d, predecessor: v };\n    });\n  });\n\n  nodes.forEach(function(k) {\n    var rowK = results[k];\n    nodes.forEach(function(i) {\n      var rowI = results[i];\n      nodes.forEach(function(j) {\n        var ik = rowI[k];\n        var kj = rowK[j];\n        var ij = rowI[j];\n        var altDistance = ik.distance + kj.distance;\n        if (altDistance < ij.distance) {\n          ij.distance = altDistance;\n          ij.predecessor = kj.predecessor;\n        }\n      });\n    });\n  });\n\n  return results;\n}\n","var topsort = require(\"./topsort\");\n\nmodule.exports = isAcyclic;\n\nfunction isAcyclic(g) {\n  try {\n    topsort(g);\n  } catch (e) {\n    if (e instanceof topsort.CycleException) {\n      return false;\n    }\n    throw e;\n  }\n  return true;\n}\n","var dfs = require(\"./dfs\");\n\nmodule.exports = postorder;\n\nfunction postorder(g, vs) {\n  return dfs(g, vs, \"post\");\n}\n","var dfs = require(\"./dfs\");\n\nmodule.exports = preorder;\n\nfunction preorder(g, vs) {\n  return dfs(g, vs, \"pre\");\n}\n","var _ = require(\"../lodash\");\nvar Graph = require(\"../graph\");\nvar PriorityQueue = require(\"../data/priority-queue\");\n\nmodule.exports = prim;\n\nfunction prim(g, weightFunc) {\n  var result = new Graph();\n  var parents = {};\n  var pq = new PriorityQueue();\n  var v;\n\n  function updateNeighbors(edge) {\n    var w = edge.v === v ? edge.w : edge.v;\n    var pri = pq.priority(w);\n    if (pri !== undefined) {\n      var edgeWeight = weightFunc(edge);\n      if (edgeWeight < pri) {\n        parents[w] = v;\n        pq.decrease(w, edgeWeight);\n      }\n    }\n  }\n\n  if (g.nodeCount() === 0) {\n    return result;\n  }\n\n  _.each(g.nodes(), function(v) {\n    pq.add(v, Number.POSITIVE_INFINITY);\n    result.setNode(v);\n  });\n\n  // Start from an arbitrary node\n  pq.decrease(g.nodes()[0], 0);\n\n  var init = false;\n  while (pq.size() > 0) {\n    v = pq.removeMin();\n    if (_.has(parents, v)) {\n      result.setEdge(v, parents[v]);\n    } else if (init) {\n      throw new Error(\"Input graph is not connected: \" + g);\n    } else {\n      init = true;\n    }\n\n    g.nodeEdges(v).forEach(updateNeighbors);\n  }\n\n  return result;\n}\n","//     JavaScript Expression Parser (JSEP) 0.3.4\r\n//     JSEP may be freely distributed under the MIT License\r\n//     http://jsep.from.so/\r\n\r\n/*global module: true, exports: true, console: true */\r\n(function (root) {\r\n\t'use strict';\r\n\t// Node Types\r\n\t// ----------\r\n\r\n\t// This is the full set of types that any JSEP node can be.\r\n\t// Store them here to save space when minified\r\n\tvar COMPOUND = 'Compound',\r\n\t\tIDENTIFIER = 'Identifier',\r\n\t\tMEMBER_EXP = 'MemberExpression',\r\n\t\tLITERAL = 'Literal',\r\n\t\tTHIS_EXP = 'ThisExpression',\r\n\t\tCALL_EXP = 'CallExpression',\r\n\t\tUNARY_EXP = 'UnaryExpression',\r\n\t\tBINARY_EXP = 'BinaryExpression',\r\n\t\tLOGICAL_EXP = 'LogicalExpression',\r\n\t\tCONDITIONAL_EXP = 'ConditionalExpression',\r\n\t\tARRAY_EXP = 'ArrayExpression',\r\n\r\n\t\tPERIOD_CODE = 46, // '.'\r\n\t\tCOMMA_CODE  = 44, // ','\r\n\t\tSQUOTE_CODE = 39, // single quote\r\n\t\tDQUOTE_CODE = 34, // double quotes\r\n\t\tOPAREN_CODE = 40, // (\r\n\t\tCPAREN_CODE = 41, // )\r\n\t\tOBRACK_CODE = 91, // [\r\n\t\tCBRACK_CODE = 93, // ]\r\n\t\tQUMARK_CODE = 63, // ?\r\n\t\tSEMCOL_CODE = 59, // ;\r\n\t\tCOLON_CODE  = 58, // :\r\n\r\n\t\tthrowError = function(message, index) {\r\n\t\t\tvar error = new Error(message + ' at character ' + index);\r\n\t\t\terror.index = index;\r\n\t\t\terror.description = message;\r\n\t\t\tthrow error;\r\n\t\t},\r\n\r\n\t// Operations\r\n\t// ----------\r\n\r\n\t// Set `t` to `true` to save space (when minified, not gzipped)\r\n\t\tt = true,\r\n\t// Use a quickly-accessible map to store all of the unary operators\r\n\t// Values are set to `true` (it really doesn't matter)\r\n\t\tunary_ops = {'-': t, '!': t, '~': t, '+': t},\r\n\t// Also use a map for the binary operations but set their values to their\r\n\t// binary precedence for quick reference:\r\n\t// see [Order of operations](http://en.wikipedia.org/wiki/Order_of_operations#Programming_language)\r\n\t\tbinary_ops = {\r\n\t\t\t'||': 1, '&&': 2, '|': 3,  '^': 4,  '&': 5,\r\n\t\t\t'==': 6, '!=': 6, '===': 6, '!==': 6,\r\n\t\t\t'<': 7,  '>': 7,  '<=': 7,  '>=': 7,\r\n\t\t\t'<<':8,  '>>': 8, '>>>': 8,\r\n\t\t\t'+': 9, '-': 9,\r\n\t\t\t'*': 10, '/': 10, '%': 10\r\n\t\t},\r\n\t// Get return the longest key length of any object\r\n\t\tgetMaxKeyLen = function(obj) {\r\n\t\t\tvar max_len = 0, len;\r\n\t\t\tfor(var key in obj) {\r\n\t\t\t\tif((len = key.length) > max_len && obj.hasOwnProperty(key)) {\r\n\t\t\t\t\tmax_len = len;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn max_len;\r\n\t\t},\r\n\t\tmax_unop_len = getMaxKeyLen(unary_ops),\r\n\t\tmax_binop_len = getMaxKeyLen(binary_ops),\r\n\t// Literals\r\n\t// ----------\r\n\t// Store the values to return for the various literals we may encounter\r\n\t\tliterals = {\r\n\t\t\t'true': true,\r\n\t\t\t'false': false,\r\n\t\t\t'null': null\r\n\t\t},\r\n\t// Except for `this`, which is special. This could be changed to something like `'self'` as well\r\n\t\tthis_str = 'this',\r\n\t// Returns the precedence of a binary operator or `0` if it isn't a binary operator\r\n\t\tbinaryPrecedence = function(op_val) {\r\n\t\t\treturn binary_ops[op_val] || 0;\r\n\t\t},\r\n\t// Utility function (gets called from multiple places)\r\n\t// Also note that `a && b` and `a || b` are *logical* expressions, not binary expressions\r\n\t\tcreateBinaryExpression = function (operator, left, right) {\r\n\t\t\tvar type = (operator === '||' || operator === '&&') ? LOGICAL_EXP : BINARY_EXP;\r\n\t\t\treturn {\r\n\t\t\t\ttype: type,\r\n\t\t\t\toperator: operator,\r\n\t\t\t\tleft: left,\r\n\t\t\t\tright: right\r\n\t\t\t};\r\n\t\t},\r\n\t\t// `ch` is a character code in the next three functions\r\n\t\tisDecimalDigit = function(ch) {\r\n\t\t\treturn (ch >= 48 && ch <= 57); // 0...9\r\n\t\t},\r\n\t\tisIdentifierStart = function(ch) {\r\n\t\t\treturn (ch === 36) || (ch === 95) || // `$` and `_`\r\n\t\t\t\t\t(ch >= 65 && ch <= 90) || // A...Z\r\n\t\t\t\t\t(ch >= 97 && ch <= 122) || // a...z\r\n                    (ch >= 128 && !binary_ops[String.fromCharCode(ch)]); // any non-ASCII that is not an operator\r\n\t\t},\r\n\t\tisIdentifierPart = function(ch) {\r\n\t\t\treturn (ch === 36) || (ch === 95) || // `$` and `_`\r\n\t\t\t\t\t(ch >= 65 && ch <= 90) || // A...Z\r\n\t\t\t\t\t(ch >= 97 && ch <= 122) || // a...z\r\n\t\t\t\t\t(ch >= 48 && ch <= 57) || // 0...9\r\n                    (ch >= 128 && !binary_ops[String.fromCharCode(ch)]); // any non-ASCII that is not an operator\r\n\t\t},\r\n\r\n\t\t// Parsing\r\n\t\t// -------\r\n\t\t// `expr` is a string with the passed in expression\r\n\t\tjsep = function(expr) {\r\n\t\t\t// `index` stores the character number we are currently at while `length` is a constant\r\n\t\t\t// All of the gobbles below will modify `index` as we move along\r\n\t\t\tvar index = 0,\r\n\t\t\t\tcharAtFunc = expr.charAt,\r\n\t\t\t\tcharCodeAtFunc = expr.charCodeAt,\r\n\t\t\t\texprI = function(i) { return charAtFunc.call(expr, i); },\r\n\t\t\t\texprICode = function(i) { return charCodeAtFunc.call(expr, i); },\r\n\t\t\t\tlength = expr.length,\r\n\r\n\t\t\t\t// Push `index` up to the next non-space character\r\n\t\t\t\tgobbleSpaces = function() {\r\n\t\t\t\t\tvar ch = exprICode(index);\r\n\t\t\t\t\t// space or tab\r\n\t\t\t\t\twhile(ch === 32 || ch === 9 || ch === 10 || ch === 13) {\r\n\t\t\t\t\t\tch = exprICode(++index);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// The main parsing function. Much of this code is dedicated to ternary expressions\r\n\t\t\t\tgobbleExpression = function() {\r\n\t\t\t\t\tvar test = gobbleBinaryExpression(),\r\n\t\t\t\t\t\tconsequent, alternate;\r\n\t\t\t\t\tgobbleSpaces();\r\n\t\t\t\t\tif(exprICode(index) === QUMARK_CODE) {\r\n\t\t\t\t\t\t// Ternary expression: test ? consequent : alternate\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\tconsequent = gobbleExpression();\r\n\t\t\t\t\t\tif(!consequent) {\r\n\t\t\t\t\t\t\tthrowError('Expected expression', index);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tgobbleSpaces();\r\n\t\t\t\t\t\tif(exprICode(index) === COLON_CODE) {\r\n\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\t\talternate = gobbleExpression();\r\n\t\t\t\t\t\t\tif(!alternate) {\r\n\t\t\t\t\t\t\t\tthrowError('Expected expression', index);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\ttype: CONDITIONAL_EXP,\r\n\t\t\t\t\t\t\t\ttest: test,\r\n\t\t\t\t\t\t\t\tconsequent: consequent,\r\n\t\t\t\t\t\t\t\talternate: alternate\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthrowError('Expected :', index);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn test;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Search for the operation portion of the string (e.g. `+`, `===`)\r\n\t\t\t\t// Start by taking the longest possible binary operations (3 characters: `===`, `!==`, `>>>`)\r\n\t\t\t\t// and move down from 3 to 2 to 1 character until a matching binary operation is found\r\n\t\t\t\t// then, return that binary operation\r\n\t\t\t\tgobbleBinaryOp = function() {\r\n\t\t\t\t\tgobbleSpaces();\r\n\t\t\t\t\tvar biop, to_check = expr.substr(index, max_binop_len), tc_len = to_check.length;\r\n\t\t\t\t\twhile(tc_len > 0) {\r\n\t\t\t\t\t\t// Don't accept a binary op when it is an identifier.\r\n\t\t\t\t\t\t// Binary ops that start with a identifier-valid character must be followed\r\n\t\t\t\t\t\t// by a non identifier-part valid character\r\n\t\t\t\t\t\tif(binary_ops.hasOwnProperty(to_check) && (\r\n\t\t\t\t\t\t\t!isIdentifierStart(exprICode(index)) ||\r\n\t\t\t\t\t\t\t(index+to_check.length< expr.length && !isIdentifierPart(exprICode(index+to_check.length)))\r\n\t\t\t\t\t\t)) {\r\n\t\t\t\t\t\t\tindex += tc_len;\r\n\t\t\t\t\t\t\treturn to_check;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tto_check = to_check.substr(0, --tc_len);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// This function is responsible for gobbling an individual expression,\r\n\t\t\t\t// e.g. `1`, `1+2`, `a+(b*2)-Math.sqrt(2)`\r\n\t\t\t\tgobbleBinaryExpression = function() {\r\n\t\t\t\t\tvar ch_i, node, biop, prec, stack, biop_info, left, right, i;\r\n\r\n\t\t\t\t\t// First, try to get the leftmost thing\r\n\t\t\t\t\t// Then, check to see if there's a binary operator operating on that leftmost thing\r\n\t\t\t\t\tleft = gobbleToken();\r\n\t\t\t\t\tbiop = gobbleBinaryOp();\r\n\r\n\t\t\t\t\t// If there wasn't a binary operator, just return the leftmost node\r\n\t\t\t\t\tif(!biop) {\r\n\t\t\t\t\t\treturn left;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Otherwise, we need to start a stack to properly place the binary operations in their\r\n\t\t\t\t\t// precedence structure\r\n\t\t\t\t\tbiop_info = { value: biop, prec: binaryPrecedence(biop)};\r\n\r\n\t\t\t\t\tright = gobbleToken();\r\n\t\t\t\t\tif(!right) {\r\n\t\t\t\t\t\tthrowError(\"Expected expression after \" + biop, index);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstack = [left, biop_info, right];\r\n\r\n\t\t\t\t\t// Properly deal with precedence using [recursive descent](http://www.engr.mun.ca/~theo/Misc/exp_parsing.htm)\r\n\t\t\t\t\twhile((biop = gobbleBinaryOp())) {\r\n\t\t\t\t\t\tprec = binaryPrecedence(biop);\r\n\r\n\t\t\t\t\t\tif(prec === 0) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbiop_info = { value: biop, prec: prec };\r\n\r\n\t\t\t\t\t\t// Reduce: make a binary expression from the three topmost entries.\r\n\t\t\t\t\t\twhile ((stack.length > 2) && (prec <= stack[stack.length - 2].prec)) {\r\n\t\t\t\t\t\t\tright = stack.pop();\r\n\t\t\t\t\t\t\tbiop = stack.pop().value;\r\n\t\t\t\t\t\t\tleft = stack.pop();\r\n\t\t\t\t\t\t\tnode = createBinaryExpression(biop, left, right);\r\n\t\t\t\t\t\t\tstack.push(node);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tnode = gobbleToken();\r\n\t\t\t\t\t\tif(!node) {\r\n\t\t\t\t\t\t\tthrowError(\"Expected expression after \" + biop, index);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstack.push(biop_info, node);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ti = stack.length - 1;\r\n\t\t\t\t\tnode = stack[i];\r\n\t\t\t\t\twhile(i > 1) {\r\n\t\t\t\t\t\tnode = createBinaryExpression(stack[i - 1].value, stack[i - 2], node);\r\n\t\t\t\t\t\ti -= 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn node;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// An individual part of a binary expression:\r\n\t\t\t\t// e.g. `foo.bar(baz)`, `1`, `\"abc\"`, `(a % 2)` (because it's in parenthesis)\r\n\t\t\t\tgobbleToken = function() {\r\n\t\t\t\t\tvar ch, to_check, tc_len;\r\n\r\n\t\t\t\t\tgobbleSpaces();\r\n\t\t\t\t\tch = exprICode(index);\r\n\r\n\t\t\t\t\tif(isDecimalDigit(ch) || ch === PERIOD_CODE) {\r\n\t\t\t\t\t\t// Char code 46 is a dot `.` which can start off a numeric literal\r\n\t\t\t\t\t\treturn gobbleNumericLiteral();\r\n\t\t\t\t\t} else if(ch === SQUOTE_CODE || ch === DQUOTE_CODE) {\r\n\t\t\t\t\t\t// Single or double quotes\r\n\t\t\t\t\t\treturn gobbleStringLiteral();\r\n\t\t\t\t\t} else if (ch === OBRACK_CODE) {\r\n\t\t\t\t\t\treturn gobbleArray();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tto_check = expr.substr(index, max_unop_len);\r\n\t\t\t\t\t\ttc_len = to_check.length;\r\n\t\t\t\t\t\twhile(tc_len > 0) {\r\n\t\t\t\t\t\t// Don't accept an unary op when it is an identifier.\r\n\t\t\t\t\t\t// Unary ops that start with a identifier-valid character must be followed\r\n\t\t\t\t\t\t// by a non identifier-part valid character\r\n\t\t\t\t\t\t\tif(unary_ops.hasOwnProperty(to_check) && (\r\n\t\t\t\t\t\t\t\t!isIdentifierStart(exprICode(index)) ||\r\n\t\t\t\t\t\t\t\t(index+to_check.length < expr.length && !isIdentifierPart(exprICode(index+to_check.length)))\r\n\t\t\t\t\t\t\t)) {\r\n\t\t\t\t\t\t\t\tindex += tc_len;\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\ttype: UNARY_EXP,\r\n\t\t\t\t\t\t\t\t\toperator: to_check,\r\n\t\t\t\t\t\t\t\t\targument: gobbleToken(),\r\n\t\t\t\t\t\t\t\t\tprefix: true\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tto_check = to_check.substr(0, --tc_len);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (isIdentifierStart(ch) || ch === OPAREN_CODE) { // open parenthesis\r\n\t\t\t\t\t\t\t// `foo`, `bar.baz`\r\n\t\t\t\t\t\t\treturn gobbleVariable();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t},\r\n\t\t\t\t// Parse simple numeric literals: `12`, `3.4`, `.5`. Do this by using a string to\r\n\t\t\t\t// keep track of everything in the numeric literal and then calling `parseFloat` on that string\r\n\t\t\t\tgobbleNumericLiteral = function() {\r\n\t\t\t\t\tvar number = '', ch, chCode;\r\n\t\t\t\t\twhile(isDecimalDigit(exprICode(index))) {\r\n\t\t\t\t\t\tnumber += exprI(index++);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(exprICode(index) === PERIOD_CODE) { // can start with a decimal marker\r\n\t\t\t\t\t\tnumber += exprI(index++);\r\n\r\n\t\t\t\t\t\twhile(isDecimalDigit(exprICode(index))) {\r\n\t\t\t\t\t\t\tnumber += exprI(index++);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tch = exprI(index);\r\n\t\t\t\t\tif(ch === 'e' || ch === 'E') { // exponent marker\r\n\t\t\t\t\t\tnumber += exprI(index++);\r\n\t\t\t\t\t\tch = exprI(index);\r\n\t\t\t\t\t\tif(ch === '+' || ch === '-') { // exponent sign\r\n\t\t\t\t\t\t\tnumber += exprI(index++);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twhile(isDecimalDigit(exprICode(index))) { //exponent itself\r\n\t\t\t\t\t\t\tnumber += exprI(index++);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!isDecimalDigit(exprICode(index-1)) ) {\r\n\t\t\t\t\t\t\tthrowError('Expected exponent (' + number + exprI(index) + ')', index);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tchCode = exprICode(index);\r\n\t\t\t\t\t// Check to make sure this isn't a variable name that start with a number (123abc)\r\n\t\t\t\t\tif(isIdentifierStart(chCode)) {\r\n\t\t\t\t\t\tthrowError('Variable names cannot start with a number (' +\r\n\t\t\t\t\t\t\t\t\tnumber + exprI(index) + ')', index);\r\n\t\t\t\t\t} else if(chCode === PERIOD_CODE) {\r\n\t\t\t\t\t\tthrowError('Unexpected period', index);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttype: LITERAL,\r\n\t\t\t\t\t\tvalue: parseFloat(number),\r\n\t\t\t\t\t\traw: number\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Parses a string literal, staring with single or double quotes with basic support for escape codes\r\n\t\t\t\t// e.g. `\"hello world\"`, `'this is\\nJSEP'`\r\n\t\t\t\tgobbleStringLiteral = function() {\r\n\t\t\t\t\tvar str = '', quote = exprI(index++), closed = false, ch;\r\n\r\n\t\t\t\t\twhile(index < length) {\r\n\t\t\t\t\t\tch = exprI(index++);\r\n\t\t\t\t\t\tif(ch === quote) {\r\n\t\t\t\t\t\t\tclosed = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else if(ch === '\\\\') {\r\n\t\t\t\t\t\t\t// Check for all of the common escape codes\r\n\t\t\t\t\t\t\tch = exprI(index++);\r\n\t\t\t\t\t\t\tswitch(ch) {\r\n\t\t\t\t\t\t\t\tcase 'n': str += '\\n'; break;\r\n\t\t\t\t\t\t\t\tcase 'r': str += '\\r'; break;\r\n\t\t\t\t\t\t\t\tcase 't': str += '\\t'; break;\r\n\t\t\t\t\t\t\t\tcase 'b': str += '\\b'; break;\r\n\t\t\t\t\t\t\t\tcase 'f': str += '\\f'; break;\r\n\t\t\t\t\t\t\t\tcase 'v': str += '\\x0B'; break;\r\n\t\t\t\t\t\t\t\tdefault : str += ch;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tstr += ch;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(!closed) {\r\n\t\t\t\t\t\tthrowError('Unclosed quote after \"'+str+'\"', index);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttype: LITERAL,\r\n\t\t\t\t\t\tvalue: str,\r\n\t\t\t\t\t\traw: quote + str + quote\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Gobbles only identifiers\r\n\t\t\t\t// e.g.: `foo`, `_value`, `$x1`\r\n\t\t\t\t// Also, this function checks if that identifier is a literal:\r\n\t\t\t\t// (e.g. `true`, `false`, `null`) or `this`\r\n\t\t\t\tgobbleIdentifier = function() {\r\n\t\t\t\t\tvar ch = exprICode(index), start = index, identifier;\r\n\r\n\t\t\t\t\tif(isIdentifierStart(ch)) {\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrowError('Unexpected ' + exprI(index), index);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile(index < length) {\r\n\t\t\t\t\t\tch = exprICode(index);\r\n\t\t\t\t\t\tif(isIdentifierPart(ch)) {\r\n\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tidentifier = expr.slice(start, index);\r\n\r\n\t\t\t\t\tif(literals.hasOwnProperty(identifier)) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttype: LITERAL,\r\n\t\t\t\t\t\t\tvalue: literals[identifier],\r\n\t\t\t\t\t\t\traw: identifier\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else if(identifier === this_str) {\r\n\t\t\t\t\t\treturn { type: THIS_EXP };\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttype: IDENTIFIER,\r\n\t\t\t\t\t\t\tname: identifier\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Gobbles a list of arguments within the context of a function call\r\n\t\t\t\t// or array literal. This function also assumes that the opening character\r\n\t\t\t\t// `(` or `[` has already been gobbled, and gobbles expressions and commas\r\n\t\t\t\t// until the terminator character `)` or `]` is encountered.\r\n\t\t\t\t// e.g. `foo(bar, baz)`, `my_func()`, or `[bar, baz]`\r\n\t\t\t\tgobbleArguments = function(termination) {\r\n\t\t\t\t\tvar ch_i, args = [], node, closed = false;\r\n\t\t\t\t\twhile(index < length) {\r\n\t\t\t\t\t\tgobbleSpaces();\r\n\t\t\t\t\t\tch_i = exprICode(index);\r\n\t\t\t\t\t\tif(ch_i === termination) { // done parsing\r\n\t\t\t\t\t\t\tclosed = true;\r\n\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else if (ch_i === COMMA_CODE) { // between expressions\r\n\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnode = gobbleExpression();\r\n\t\t\t\t\t\t\tif(!node || node.type === COMPOUND) {\r\n\t\t\t\t\t\t\t\tthrowError('Expected comma', index);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\targs.push(node);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!closed) {\r\n\t\t\t\t\t\tthrowError('Expected ' + String.fromCharCode(termination), index);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn args;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Gobble a non-literal variable name. This variable name may include properties\r\n\t\t\t\t// e.g. `foo`, `bar.baz`, `foo['bar'].baz`\r\n\t\t\t\t// It also gobbles function calls:\r\n\t\t\t\t// e.g. `Math.acos(obj.angle)`\r\n\t\t\t\tgobbleVariable = function() {\r\n\t\t\t\t\tvar ch_i, node;\r\n\t\t\t\t\tch_i = exprICode(index);\r\n\r\n\t\t\t\t\tif(ch_i === OPAREN_CODE) {\r\n\t\t\t\t\t\tnode = gobbleGroup();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnode = gobbleIdentifier();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgobbleSpaces();\r\n\t\t\t\t\tch_i = exprICode(index);\r\n\t\t\t\t\twhile(ch_i === PERIOD_CODE || ch_i === OBRACK_CODE || ch_i === OPAREN_CODE) {\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\tif(ch_i === PERIOD_CODE) {\r\n\t\t\t\t\t\t\tgobbleSpaces();\r\n\t\t\t\t\t\t\tnode = {\r\n\t\t\t\t\t\t\t\ttype: MEMBER_EXP,\r\n\t\t\t\t\t\t\t\tcomputed: false,\r\n\t\t\t\t\t\t\t\tobject: node,\r\n\t\t\t\t\t\t\t\tproperty: gobbleIdentifier()\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t} else if(ch_i === OBRACK_CODE) {\r\n\t\t\t\t\t\t\tnode = {\r\n\t\t\t\t\t\t\t\ttype: MEMBER_EXP,\r\n\t\t\t\t\t\t\t\tcomputed: true,\r\n\t\t\t\t\t\t\t\tobject: node,\r\n\t\t\t\t\t\t\t\tproperty: gobbleExpression()\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tgobbleSpaces();\r\n\t\t\t\t\t\t\tch_i = exprICode(index);\r\n\t\t\t\t\t\t\tif(ch_i !== CBRACK_CODE) {\r\n\t\t\t\t\t\t\t\tthrowError('Unclosed [', index);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\t} else if(ch_i === OPAREN_CODE) {\r\n\t\t\t\t\t\t\t// A function call is being made; gobble all the arguments\r\n\t\t\t\t\t\t\tnode = {\r\n\t\t\t\t\t\t\t\ttype: CALL_EXP,\r\n\t\t\t\t\t\t\t\t'arguments': gobbleArguments(CPAREN_CODE),\r\n\t\t\t\t\t\t\t\tcallee: node\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tgobbleSpaces();\r\n\t\t\t\t\t\tch_i = exprICode(index);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn node;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Responsible for parsing a group of things within parentheses `()`\r\n\t\t\t\t// This function assumes that it needs to gobble the opening parenthesis\r\n\t\t\t\t// and then tries to gobble everything within that parenthesis, assuming\r\n\t\t\t\t// that the next thing it should see is the close parenthesis. If not,\r\n\t\t\t\t// then the expression probably doesn't have a `)`\r\n\t\t\t\tgobbleGroup = function() {\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t\tvar node = gobbleExpression();\r\n\t\t\t\t\tgobbleSpaces();\r\n\t\t\t\t\tif(exprICode(index) === CPAREN_CODE) {\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\treturn node;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrowError('Unclosed (', index);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Responsible for parsing Array literals `[1, 2, 3]`\r\n\t\t\t\t// This function assumes that it needs to gobble the opening bracket\r\n\t\t\t\t// and then tries to gobble the expressions as arguments.\r\n\t\t\t\tgobbleArray = function() {\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttype: ARRAY_EXP,\r\n\t\t\t\t\t\telements: gobbleArguments(CBRACK_CODE)\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\r\n\t\t\t\tnodes = [], ch_i, node;\r\n\r\n\t\t\twhile(index < length) {\r\n\t\t\t\tch_i = exprICode(index);\r\n\r\n\t\t\t\t// Expressions can be separated by semicolons, commas, or just inferred without any\r\n\t\t\t\t// separators\r\n\t\t\t\tif(ch_i === SEMCOL_CODE || ch_i === COMMA_CODE) {\r\n\t\t\t\t\tindex++; // ignore separators\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Try to gobble each expression individually\r\n\t\t\t\t\tif((node = gobbleExpression())) {\r\n\t\t\t\t\t\tnodes.push(node);\r\n\t\t\t\t\t// If we weren't able to find a binary expression and are out of room, then\r\n\t\t\t\t\t// the expression passed in probably has too much\r\n\t\t\t\t\t} else if(index < length) {\r\n\t\t\t\t\t\tthrowError('Unexpected \"' + exprI(index) + '\"', index);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// If there's only one expression just try returning the expression\r\n\t\t\tif(nodes.length === 1) {\r\n\t\t\t\treturn nodes[0];\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttype: COMPOUND,\r\n\t\t\t\t\tbody: nodes\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t// To be filled in by the template\r\n\tjsep.version = '0.3.4';\r\n\tjsep.toString = function() { return 'JavaScript Expression Parser (JSEP) v' + jsep.version; };\r\n\r\n\t/**\r\n\t * @method jsep.addUnaryOp\r\n\t * @param {string} op_name The name of the unary op to add\r\n\t * @return jsep\r\n\t */\r\n\tjsep.addUnaryOp = function(op_name) {\r\n\t\tmax_unop_len = Math.max(op_name.length, max_unop_len);\r\n\t\tunary_ops[op_name] = t; return this;\r\n\t};\r\n\r\n\t/**\r\n\t * @method jsep.addBinaryOp\r\n\t * @param {string} op_name The name of the binary op to add\r\n\t * @param {number} precedence The precedence of the binary op (can be a float)\r\n\t * @return jsep\r\n\t */\r\n\tjsep.addBinaryOp = function(op_name, precedence) {\r\n\t\tmax_binop_len = Math.max(op_name.length, max_binop_len);\r\n\t\tbinary_ops[op_name] = precedence;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @method jsep.addLiteral\r\n\t * @param {string} literal_name The name of the literal to add\r\n\t * @param {*} literal_value The value of the literal\r\n\t * @return jsep\r\n\t */\r\n\tjsep.addLiteral = function(literal_name, literal_value) {\r\n\t\tliterals[literal_name] = literal_value;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @method jsep.removeUnaryOp\r\n\t * @param {string} op_name The name of the unary op to remove\r\n\t * @return jsep\r\n\t */\r\n\tjsep.removeUnaryOp = function(op_name) {\r\n\t\tdelete unary_ops[op_name];\r\n\t\tif(op_name.length === max_unop_len) {\r\n\t\t\tmax_unop_len = getMaxKeyLen(unary_ops);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @method jsep.removeAllUnaryOps\r\n\t * @return jsep\r\n\t */\r\n\tjsep.removeAllUnaryOps = function() {\r\n\t\tunary_ops = {};\r\n\t\tmax_unop_len = 0;\r\n\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @method jsep.removeBinaryOp\r\n\t * @param {string} op_name The name of the binary op to remove\r\n\t * @return jsep\r\n\t */\r\n\tjsep.removeBinaryOp = function(op_name) {\r\n\t\tdelete binary_ops[op_name];\r\n\t\tif(op_name.length === max_binop_len) {\r\n\t\t\tmax_binop_len = getMaxKeyLen(binary_ops);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @method jsep.removeAllBinaryOps\r\n\t * @return jsep\r\n\t */\r\n\tjsep.removeAllBinaryOps = function() {\r\n\t\tbinary_ops = {};\r\n\t\tmax_binop_len = 0;\r\n\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @method jsep.removeLiteral\r\n\t * @param {string} literal_name The name of the literal to remove\r\n\t * @return jsep\r\n\t */\r\n\tjsep.removeLiteral = function(literal_name) {\r\n\t\tdelete literals[literal_name];\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @method jsep.removeAllLiterals\r\n\t * @return jsep\r\n\t */\r\n\tjsep.removeAllLiterals = function() {\r\n\t\tliterals = {};\r\n\r\n\t\treturn this;\r\n\t};\r\n\r\n\t// In desktop environments, have a way to restore the old value for `jsep`\r\n\tif (typeof exports === 'undefined') {\r\n\t\tvar old_jsep = root.jsep;\r\n\t\t// The star of the show! It's a function!\r\n\t\troot.jsep = jsep;\r\n\t\t// And a courteous function willing to move out of the way for other similarly-named objects!\r\n\t\tjsep.noConflict = function() {\r\n\t\t\tif(root.jsep === jsep) {\r\n\t\t\t\troot.jsep = old_jsep;\r\n\t\t\t}\r\n\t\t\treturn jsep;\r\n\t\t};\r\n\t} else {\r\n\t\t// In Node.JS environments\r\n\t\tif (typeof module !== 'undefined' && module.exports) {\r\n\t\t\texports = module.exports = jsep;\r\n\t\t} else {\r\n\t\t\texports.parse = jsep;\r\n\t\t}\r\n\t}\r\n}(this));\r\n","/* global window */\n\nvar lodash;\n\nif (typeof require === \"function\") {\n  try {\n    lodash = {\n      clone: require(\"lodash/clone\"),\n      constant: require(\"lodash/constant\"),\n      each: require(\"lodash/each\"),\n      filter: require(\"lodash/filter\"),\n      has:  require(\"lodash/has\"),\n      isArray: require(\"lodash/isArray\"),\n      isEmpty: require(\"lodash/isEmpty\"),\n      isFunction: require(\"lodash/isFunction\"),\n      isUndefined: require(\"lodash/isUndefined\"),\n      keys: require(\"lodash/keys\"),\n      map: require(\"lodash/map\"),\n      reduce: require(\"lodash/reduce\"),\n      size: require(\"lodash/size\"),\n      transform: require(\"lodash/transform\"),\n      union: require(\"lodash/union\"),\n      values: require(\"lodash/values\")\n    };\n  } catch (e) {\n    // continue regardless of error\n  }\n}\n\nif (!lodash) {\n  lodash = window._;\n}\n\nmodule.exports = lodash;\n","'use strict';\n\n\nconst REGL = require('regl');\nconst mat4 = require('gl-matrix').mat4;\nconst center = require('geo-center');\nconst boundingBox = require('vertices-bounding-box');\nconst transform = require('geo-3d-transform-mat4');\nconst converter = require('geo-convert-position-format');\nconst vertexNormals = require('normals').vertexNormals;\nconst reindex = require('mesh-reindex');\nconst defaults = require('defaults');\n\n\nmodule.exports = function(positions, opts) {\n\n  opts = defaults(opts, {\n    cells: undefined,\n    regl: false,\n    bias: 0.01,\n    resolution: 512\n  });\n\n  // Center the mesh on the origin (and make a copy in the process).\n  positions = center(positions);\n\n  // Scale the mesh to a 1x1x1 cube.\n  const bb = boundingBox(positions);\n  const scale = [\n    1 / (bb[1][0] - bb[0][0]),\n    1 / (bb[1][1] - bb[0][1]),\n    1 / (bb[1][2] - bb[0][2]),\n  ];\n  const scaleMat4 = mat4.scale([], mat4.create(), scale);\n  positions = transform(positions, scaleMat4);\n\n  // Create an array with the vertex data.\n  const vertexData = converter.convert(positions, converter.TYPED_ARRAY);\n\n  // Create normals.\n  let mesh = {\n    cells: opts.cells,\n    positions: positions,\n  };\n  if (mesh.cells === undefined) {\n    mesh = reindex(vertexData);\n  }\n  let normals;\n  if (opts.normals === undefined) {\n    normals = vertexNormals(mesh.cells, mesh.positions, 0);\n  } else {\n    normals = opts.normals;\n  }\n  const normalData = converter.convert(normals, converter.TYPED_ARRAY);\n\n  // Make sure the position array is divisible by three.\n  if (vertexData.length % 3 !== 0) {\n    throw new Error('geo-ambient-occlusion: Position array not divisible by three.');\n  }\n\n  // Copy it into the smallest POT-length array we can.\n  const vertexCount = vertexData.length/3;\n  let vertexTextureRes = 1;\n  while (vertexTextureRes * vertexTextureRes < vertexCount) {\n    vertexTextureRes *= 2;\n  }\n  const vertexDataArray = new Float32Array(vertexTextureRes * vertexTextureRes * 3);\n  vertexDataArray.set(vertexData);\n\n  // Copy the normal data into a same-size array.\n  const normalDataArray = new Float32Array(vertexTextureRes * vertexTextureRes * 3);\n  normalDataArray.set(normalData);\n\n  // Figure out what extensions we need.\n  const extensions = ['OES_texture_float'];\n  if (vertexCount > 65535 && opts.cells !== undefined) {\n    extensions.push('OES_element_index_uint');\n  }\n\n  // If we are given a regl context, make sure it has the extensions we need.\n  if (opts.regl) {\n    for (let ext of extensions) {\n      if (!opts.regl.hasExtension(ext)) {\n        throw new Error('geo-ambient-occlusion: Provided regl context needs the ' + ext + ' extension for this mesh.');\n      }\n    }\n  }\n\n  // If we don't have a regl context, create one.\n  let regl, ownregl;\n  if (opts.regl) {\n    regl = opts.regl;\n    ownregl = false;\n  } else {\n    regl = REGL({\n      canvas: document.createElement('canvas'),\n      extensions: extensions,\n    });\n    ownregl = true;\n  }\n\n  // Define a framebuffer for our position data.\n  const fboPosition = fbo(opts.resolution);\n\n  // Define the command that gathers the position data.\n  const cmdPositionObj = {\n    vert: `\n      precision highp float;\n      attribute vec3 position;\n      uniform mat4 model, projection;\n      varying vec3 vPos;\n      void main() {\n        gl_Position = projection * model * vec4(position, 1);\n        vPos = vec3(model * vec4(position, 1));\n      }\n    `,\n    frag: `\n      precision highp float;\n      varying vec3 vPos;\n      void main() {\n        gl_FragColor = vec4(vPos, 1);\n      }\n    `,\n    attributes: {\n      position: positions,\n    },\n    uniforms: {\n      model: regl.prop('model'),\n      projection: regl.prop('projection'),\n    },\n    viewport: {x: 0, y: 0, width: opts.resolution, height: opts.resolution},\n    framebuffer: fboPosition,\n  };\n  if (opts.cells) {\n    cmdPositionObj.elements = opts.cells;\n  } else {\n    cmdPositionObj.count = vertexCount;\n  }\n  const cmdPosition = regl(cmdPositionObj);\n\n  // Define a pair of buffers we'll ping-pong to accumulate occlusion data.\n  const fboOcclusion = [fbo(vertexTextureRes), fbo(vertexTextureRes)];\n\n  // Create a texture that stores our vertex locations.\n  const tVertex = regl.texture({\n    width: vertexTextureRes,\n    height: vertexTextureRes,\n    data: vertexDataArray,\n    format: 'rgb',\n    type: 'float'\n  });\n\n  // Create a texture that stores our normal directions.\n  const tNormal = regl.texture({\n    width: vertexTextureRes,\n    height: vertexTextureRes,\n    data: normalDataArray,\n    format: 'rgb',\n    type: 'float',\n  });\n\n  // Define the command for occlusion accumulation.\n  const cmdOcclusion = regl({\n    vert: `\n      precision highp float;\n      attribute vec2 position;\n      void main() {\n          gl_Position = vec4(position, 0, 1);\n      }\n    `,\n    frag: `\n      precision highp float;\n\n      uniform sampler2D tPosition, tSource, tVertex, tNormal;\n      uniform float count, bias;\n      uniform vec2 resolution;\n      uniform mat4 model;\n\n      const float INVSQRT3 = 0.5773502691896258; // 1/sqrt(3)\n\n      void main() {\n          vec2 texel = gl_FragCoord.xy/resolution;\n          vec3 vert = texture2D(tVertex, texel).rgb;\n          vert = vec3(model * vec4(vert, 1));\n          vec3 norm = texture2D(tNormal, texel).rgb;\n          norm = vec3(model * vec4(norm, 1));\n          float z = texture2D(tPosition, INVSQRT3 * vert.xy + 0.5).z;\n          float o = 0.0;\n          if ((vert.z - z) < -bias) {\n              o = 1.0;\n          }\n          vec4 src = texture2D(tSource, texel);\n          if (dot(norm, vec3(0,0,1)) > 0.0) {\n            gl_FragColor = src + vec4(o, 1, 0, 0);\n          } else {\n            gl_FragColor = src;\n          }\n      }\n    `,\n    attributes: {\n      position: [-1,-1, 1,-1, 1,1, -1,-1, 1,1, -1,1],\n    },\n    uniforms: {\n      tPosition: fboPosition,\n      tSource: regl.prop('source'),\n      tVertex: tVertex,\n      tNormal: tNormal,\n      count: regl.prop('count'),\n      bias: regl.prop('bias'),\n      resolution: [vertexTextureRes, vertexTextureRes],\n      model: regl.prop('model'),\n    },\n    viewport: {x: 0, y: 0, width: vertexTextureRes, height: vertexTextureRes},\n    framebuffer: regl.prop('destination'),\n    count: 6,\n  });\n\n  // Keep track of our ping-ponging.\n  let occlusionIndex = 0;\n\n  // Keep track of how many samples we've collected.\n  let occlusionCount = 0;\n\n  // set up our projection matrix.\n  const d = Math.sqrt(3)/2;\n  const projection = mat4.ortho([], -d, d, -d, d, -d, d);\n\n  // Take a single occlusion sample.\n  function sample() {\n    occlusionIndex = 1 - occlusionIndex;\n    const source = fboOcclusion[occlusionIndex];\n    const destination = fboOcclusion[1 - occlusionIndex];\n    occlusionCount++;\n    const model = mat4.create();\n    mat4.rotateX(model, model, Math.random() * 100);\n    mat4.rotateY(model, model, Math.random() * 100);\n    mat4.rotateZ(model, model, Math.random() * 100);\n    regl.clear({\n      color: [0,0,0,1],\n      depth: 1,\n      framebuffer: fboPosition,\n    });\n    cmdPosition({\n      model: model,\n      projection: projection,\n    });\n    regl.clear({\n      color: [0,0,0,1],\n      depth: 1,\n      framebuffer: destination,\n    });\n    cmdOcclusion({\n      source: source,\n      destination: destination,\n      count: occlusionCount,\n      bias: opts.bias,\n      model: model,\n    });\n  }\n\n\n  // Return the per-vertex ambient occlusion in a Float32Array of length vertexCount.\n  function report() {\n    // Gather the resulting pixels.\n    let pixels;\n    fboOcclusion[1 - occlusionIndex].use(() => {\n      pixels = regl.read();\n    });\n\n    // Format them and return the final product.\n    const result = new Float32Array(vertexCount);\n    for (let i = 0; i < vertexCount; i++) {\n      const index = i * 4;\n      const total = pixels[index + 1];\n      result[i] = total === 0.0 ? 0.0 : pixels[index + 0]/total;\n    }\n\n    return result;\n  }\n\n\n  // Dispose of all resources. Do not dispose of regl if we did not create it. Behavior after calling dispose is\n  // undefined.\n  function dispose() {\n    tVertex.destroy();\n    fboPosition.destroy();\n    fboOcclusion[0].destroy();\n    fboOcclusion[1].destroy();\n    if (ownregl) {\n      regl.destroy();\n    }\n  }\n\n\n  // Utility function for creating a common fbo.\n  function fbo(resolution) {\n    return regl.framebuffer({\n      width: resolution,\n      height: resolution,\n      colorFormat: 'rgba',\n      colorType: 'float',\n    });\n  }\n\n  return {\n    sample: sample,\n    report: report,\n    dispose: dispose\n  };\n};\n","'use strict'\n\nvar defaults = require('lodash.defaultsdeep')\nvar boundingBox = require('vertices-bounding-box')\nvar mat4 = require('gl-mat4')\nvar tform = require('geo-3d-transform-mat4')\nvar geoconv = require('geo-convert-position-format')\n\nmodule.exports = function center (positions, opts) {\n  // Set some defaults.\n  opts = opts || {}\n  opts = defaults(opts, {\n    center: [0, 0, 0]\n  })\n\n  positions = geoconv.convert(positions, geoconv.ARRAY_OF_ARRAYS)\n  // Calculate the bounding box.\n  var bb = boundingBox(positions)\n\n  // Translate the geometry center to the origin.\n  var _translate = [\n    -0.5 * (bb[0][0] + bb[1][0]) + opts.center[0],\n    -0.5 * (bb[0][1] + bb[1][1]) + opts.center[1],\n    -0.5 * (bb[0][2] + bb[1][2]) + opts.center[2]\n  ]\n  var translate = mat4.create()\n  mat4.translate(translate, translate, _translate)\n  var centered = tform(positions, translate)\n\n  return centered\n}\n","/**\n * lodash 3.10.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar merge = require('lodash.merge'),\n    restParam = require('lodash.restparam');\n\n/**\n * Creates a `_.defaults` or `_.defaultsDeep` function.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Function} Returns the new defaults function.\n */\nfunction createDefaults(assigner, customizer) {\n  return restParam(function(args) {\n    var object = args[0];\n    if (object == null) {\n      return object;\n    }\n    args.push(customizer);\n    return assigner.apply(undefined, args);\n  });\n}\n\n/**\n * Used by `_.defaultsDeep` to customize its `_.merge` use.\n *\n * @private\n * @param {*} objectValue The destination object property value.\n * @param {*} sourceValue The source object property value.\n * @returns {*} Returns the value to assign to the destination object.\n */\nfunction mergeDefaults(objectValue, sourceValue) {\n  return objectValue === undefined ? sourceValue : merge(objectValue, sourceValue, mergeDefaults);\n}\n\n/**\n * This method is like `_.defaults` except that it recursively assigns\n * default properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.defaultsDeep({ 'user': { 'name': 'barney' } }, { 'user': { 'name': 'fred', 'age': 36 } });\n * // => { 'user': { 'name': 'barney', 'age': 36 } }\n *\n */\nvar defaultsDeep = createDefaults(merge, mergeDefaults);\n\nmodule.exports = defaultsDeep;\n","/**\n * lodash 3.3.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar arrayCopy = require('lodash._arraycopy'),\n    arrayEach = require('lodash._arrayeach'),\n    createAssigner = require('lodash._createassigner'),\n    isArguments = require('lodash.isarguments'),\n    isArray = require('lodash.isarray'),\n    isPlainObject = require('lodash.isplainobject'),\n    isTypedArray = require('lodash.istypedarray'),\n    keys = require('lodash.keys'),\n    toPlainObject = require('lodash.toplainobject');\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.merge` without support for argument juggling,\n * multiple sources, and `this` binding `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Array} [stackA=[]] Tracks traversed source objects.\n * @param {Array} [stackB=[]] Associates values with source counterparts.\n * @returns {Object} Returns `object`.\n */\nfunction baseMerge(object, source, customizer, stackA, stackB) {\n  if (!isObject(object)) {\n    return object;\n  }\n  var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n      props = isSrcArr ? undefined : keys(source);\n\n  arrayEach(props || source, function(srcValue, key) {\n    if (props) {\n      key = srcValue;\n      srcValue = source[key];\n    }\n    if (isObjectLike(srcValue)) {\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n      baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n    }\n    else {\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n      }\n      if ((result !== undefined || (isSrcArr && !(key in object))) &&\n          (isCommon || (result === result ? (result !== value) : (value === value)))) {\n        object[key] = result;\n      }\n    }\n  });\n  return object;\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Array} [stackA=[]] Tracks traversed source objects.\n * @param {Array} [stackB=[]] Associates values with source counterparts.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n  var length = stackA.length,\n      srcValue = source[key];\n\n  while (length--) {\n    if (stackA[length] == srcValue) {\n      object[key] = stackB[length];\n      return;\n    }\n  }\n  var value = object[key],\n      result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n      isCommon = result === undefined;\n\n  if (isCommon) {\n    result = srcValue;\n    if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n      result = isArray(value)\n        ? value\n        : (isArrayLike(value) ? arrayCopy(value) : []);\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      result = isArguments(value)\n        ? toPlainObject(value)\n        : (isPlainObject(value) ? value : {});\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  // Add the source value to the stack of traversed objects and associate\n  // it with its merged value.\n  stackA.push(srcValue);\n  stackB.push(result);\n\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n  } else if (result === result ? (result !== value) : (value === value)) {\n    object[key] = result;\n  }\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Recursively merges own enumerable properties of the source object(s), that\n * don't resolve to `undefined` into the destination object. Subsequent sources\n * overwrite property assignments of previous sources. If `customizer` is\n * provided it is invoked to produce the merged values of the destination and\n * source properties. If `customizer` returns `undefined` merging is handled\n * by the method instead. The `customizer` is bound to `thisArg` and invoked\n * with five arguments: (objectValue, sourceValue, key, object, source).\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var users = {\n *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n * };\n *\n * var ages = {\n *   'data': [{ 'age': 36 }, { 'age': 40 }]\n * };\n *\n * _.merge(users, ages);\n * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n *\n * // using a customizer callback\n * var object = {\n *   'fruits': ['apple'],\n *   'vegetables': ['beet']\n * };\n *\n * var other = {\n *   'fruits': ['banana'],\n *   'vegetables': ['carrot']\n * };\n *\n * _.merge(object, other, function(a, b) {\n *   if (_.isArray(a)) {\n *     return a.concat(b);\n *   }\n * });\n * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n */\nvar merge = createAssigner(baseMerge);\n\nmodule.exports = merge;\n","/**\n * lodash 3.0.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.7.0 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction arrayCopy(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayCopy;\n","/**\n * lodash 3.0.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.7.0 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `_.forEach` for arrays without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","/**\n * lodash 3.1.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar bindCallback = require('lodash._bindcallback'),\n    isIterateeCall = require('lodash._isiterateecall'),\n    restParam = require('lodash.restparam');\n\n/**\n * Creates a function that assigns properties of source object(s) to a given\n * destination object.\n *\n * **Note:** This function is used to create `_.assign`, `_.defaults`, and `_.merge`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return restParam(function(object, sources) {\n    var index = -1,\n        length = object == null ? 0 : sources.length,\n        customizer = length > 2 ? sources[length - 2] : undefined,\n        guard = length > 2 ? sources[2] : undefined,\n        thisArg = length > 1 ? sources[length - 1] : undefined;\n\n    if (typeof customizer == 'function') {\n      customizer = bindCallback(customizer, thisArg, 5);\n      length -= 2;\n    } else {\n      customizer = typeof thisArg == 'function' ? thisArg : undefined;\n      length -= (customizer ? 1 : 0);\n    }\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `baseCallback` which only supports `this` binding\n * and specifying the number of arguments to provide to `func`.\n *\n * @private\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (thisArg === undefined) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = bindCallback;\n","/**\n * lodash 3.0.9 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/**\n * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/**\n * Checks if the provided arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n      ? (isArrayLike(object) && isIndex(index, object.length))\n      : (type == 'string' && index in object)) {\n    var other = object[index];\n    return value === value ? (value === other) : (other !== other);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isIterateeCall;\n","/**\n * lodash 3.2.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar baseFor = require('lodash._basefor'),\n    isArguments = require('lodash.isarguments'),\n    keysIn = require('lodash.keysin');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * The base implementation of `_.forIn` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForIn(object, iteratee) {\n  return baseFor(object, iteratee, keysIn);\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * **Note:** This method assumes objects created by the `Object` constructor\n * have no inherited enumerable properties.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  var Ctor;\n\n  // Exit early for non `Object` objects.\n  if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isArguments(value)) ||\n      (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n    return false;\n  }\n  // IE < 9 iterates inherited properties before own properties. If the first\n  // iterated property is an object's own property then there are no inherited\n  // enumerable properties.\n  var result;\n  // In most environments an object's own properties are iterated before\n  // its inherited properties. If the last iterated property is an object's\n  // own property then there are no inherited enumerable properties.\n  baseForIn(value, function(subValue, key) {\n    result = key;\n  });\n  return result === undefined || hasOwnProperty.call(value, result);\n}\n\nmodule.exports = isPlainObject;\n","/**\n * lodash 3.0.3 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * The base implementation of `baseForIn` and `baseForOwn` which iterates\n * over `object` properties returned by `keysFunc` invoking `iteratee` for\n * each property. Iteratee functions may exit iteration early by explicitly\n * returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * Creates a base function for methods like `_.forIn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = baseFor;\n","/**\n * lodash 3.0.6 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length,\n *  else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nfunction isTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\nmodule.exports = isTypedArray;\n","/**\n * lodash 3.1.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar getNative = require('lodash._getnative'),\n    isArguments = require('lodash.isarguments'),\n    isArray = require('lodash.isarray');\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = getNative(Object, 'keys');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * A fallback implementation of `Object.keys` which creates an array of the\n * own enumerable property names of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction shimKeys(object) {\n  var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n  var allowIndexes = !!length && isLength(length) &&\n    (isArray(object) || isArguments(object));\n\n  var index = -1,\n      result = [];\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  var Ctor = object == null ? undefined : object.constructor;\n  if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n      (typeof object != 'function' && isArrayLike(object))) {\n    return shimKeys(object);\n  }\n  return isObject(object) ? nativeKeys(object) : [];\n};\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  if (object == null) {\n    return [];\n  }\n  if (!isObject(object)) {\n    object = Object(object);\n  }\n  var length = object.length;\n  length = (length && isLength(length) &&\n    (isArray(object) || isArguments(object)) && length) || 0;\n\n  var Ctor = object.constructor,\n      index = -1,\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n      result = Array(length),\n      skipIndexes = length > 0;\n\n  while (++index < length) {\n    result[index] = (index + '');\n  }\n  for (var key in object) {\n    if (!(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keys;\n","/**\n * lodash 3.9.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = getNative;\n","/**\n * lodash 3.0.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.7.0 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar baseCopy = require('lodash._basecopy'),\n    keysIn = require('lodash.keysin');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable\n * properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return baseCopy(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @returns {Object} Returns `object`.\n */\nfunction baseCopy(source, props, object) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n    object[key] = source[key];\n  }\n  return object;\n}\n\nmodule.exports = baseCopy;\n","module.exports      = isTypedArray\nisTypedArray.strict = isStrictTypedArray\nisTypedArray.loose  = isLooseTypedArray\n\nvar toString = Object.prototype.toString\nvar names = {\n    '[object Int8Array]': true\n  , '[object Int16Array]': true\n  , '[object Int32Array]': true\n  , '[object Uint8Array]': true\n  , '[object Uint8ClampedArray]': true\n  , '[object Uint16Array]': true\n  , '[object Uint32Array]': true\n  , '[object Float32Array]': true\n  , '[object Float64Array]': true\n}\n\nfunction isTypedArray(arr) {\n  return (\n       isStrictTypedArray(arr)\n    || isLooseTypedArray(arr)\n  )\n}\n\nfunction isStrictTypedArray(arr) {\n  return (\n       arr instanceof Int8Array\n    || arr instanceof Int16Array\n    || arr instanceof Int32Array\n    || arr instanceof Uint8Array\n    || arr instanceof Uint8ClampedArray\n    || arr instanceof Uint16Array\n    || arr instanceof Uint32Array\n    || arr instanceof Float32Array\n    || arr instanceof Float64Array\n  )\n}\n\nfunction isLooseTypedArray(arr) {\n  return names[toString.call(arr)]\n}\n","module.exports = function(arr) {\n  if (!arr) return false\n  if (!arr.dtype) return false\n  var re = new RegExp('function View[0-9]+d(:?' + arr.dtype + ')+')\n  return re.test(String(arr.constructor))\n}\n","var iota = require(\"iota-array\")\nvar isBuffer = require(\"is-buffer\")\n\nvar hasTypedArrays  = ((typeof Float64Array) !== \"undefined\")\n\nfunction compare1st(a, b) {\n  return a[0] - b[0]\n}\n\nfunction order() {\n  var stride = this.stride\n  var terms = new Array(stride.length)\n  var i\n  for(i=0; i<terms.length; ++i) {\n    terms[i] = [Math.abs(stride[i]), i]\n  }\n  terms.sort(compare1st)\n  var result = new Array(terms.length)\n  for(i=0; i<result.length; ++i) {\n    result[i] = terms[i][1]\n  }\n  return result\n}\n\nfunction compileConstructor(dtype, dimension) {\n  var className = [\"View\", dimension, \"d\", dtype].join(\"\")\n  if(dimension < 0) {\n    className = \"View_Nil\" + dtype\n  }\n  var useGetters = (dtype === \"generic\")\n\n  if(dimension === -1) {\n    //Special case for trivial arrays\n    var code =\n      \"function \"+className+\"(a){this.data=a;};\\\nvar proto=\"+className+\".prototype;\\\nproto.dtype='\"+dtype+\"';\\\nproto.index=function(){return -1};\\\nproto.size=0;\\\nproto.dimension=-1;\\\nproto.shape=proto.stride=proto.order=[];\\\nproto.lo=proto.hi=proto.transpose=proto.step=\\\nfunction(){return new \"+className+\"(this.data);};\\\nproto.get=proto.set=function(){};\\\nproto.pick=function(){return null};\\\nreturn function construct_\"+className+\"(a){return new \"+className+\"(a);}\"\n    var procedure = new Function(code)\n    return procedure()\n  } else if(dimension === 0) {\n    //Special case for 0d arrays\n    var code =\n      \"function \"+className+\"(a,d) {\\\nthis.data = a;\\\nthis.offset = d\\\n};\\\nvar proto=\"+className+\".prototype;\\\nproto.dtype='\"+dtype+\"';\\\nproto.index=function(){return this.offset};\\\nproto.dimension=0;\\\nproto.size=1;\\\nproto.shape=\\\nproto.stride=\\\nproto.order=[];\\\nproto.lo=\\\nproto.hi=\\\nproto.transpose=\\\nproto.step=function \"+className+\"_copy() {\\\nreturn new \"+className+\"(this.data,this.offset)\\\n};\\\nproto.pick=function \"+className+\"_pick(){\\\nreturn TrivialArray(this.data);\\\n};\\\nproto.valueOf=proto.get=function \"+className+\"_get(){\\\nreturn \"+(useGetters ? \"this.data.get(this.offset)\" : \"this.data[this.offset]\")+\n\"};\\\nproto.set=function \"+className+\"_set(v){\\\nreturn \"+(useGetters ? \"this.data.set(this.offset,v)\" : \"this.data[this.offset]=v\")+\"\\\n};\\\nreturn function construct_\"+className+\"(a,b,c,d){return new \"+className+\"(a,d)}\"\n    var procedure = new Function(\"TrivialArray\", code)\n    return procedure(CACHED_CONSTRUCTORS[dtype][0])\n  }\n\n  var code = [\"'use strict'\"]\n\n  //Create constructor for view\n  var indices = iota(dimension)\n  var args = indices.map(function(i) { return \"i\"+i })\n  var index_str = \"this.offset+\" + indices.map(function(i) {\n        return \"this.stride[\" + i + \"]*i\" + i\n      }).join(\"+\")\n  var shapeArg = indices.map(function(i) {\n      return \"b\"+i\n    }).join(\",\")\n  var strideArg = indices.map(function(i) {\n      return \"c\"+i\n    }).join(\",\")\n  code.push(\n    \"function \"+className+\"(a,\" + shapeArg + \",\" + strideArg + \",d){this.data=a\",\n      \"this.shape=[\" + shapeArg + \"]\",\n      \"this.stride=[\" + strideArg + \"]\",\n      \"this.offset=d|0}\",\n    \"var proto=\"+className+\".prototype\",\n    \"proto.dtype='\"+dtype+\"'\",\n    \"proto.dimension=\"+dimension)\n\n  //view.size:\n  code.push(\"Object.defineProperty(proto,'size',{get:function \"+className+\"_size(){\\\nreturn \"+indices.map(function(i) { return \"this.shape[\"+i+\"]\" }).join(\"*\"),\n\"}})\")\n\n  //view.order:\n  if(dimension === 1) {\n    code.push(\"proto.order=[0]\")\n  } else {\n    code.push(\"Object.defineProperty(proto,'order',{get:\")\n    if(dimension < 4) {\n      code.push(\"function \"+className+\"_order(){\")\n      if(dimension === 2) {\n        code.push(\"return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})\")\n      } else if(dimension === 3) {\n        code.push(\n\"var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\\\nif(s0>s1){\\\nif(s1>s2){\\\nreturn [2,1,0];\\\n}else if(s0>s2){\\\nreturn [1,2,0];\\\n}else{\\\nreturn [1,0,2];\\\n}\\\n}else if(s0>s2){\\\nreturn [2,0,1];\\\n}else if(s2>s1){\\\nreturn [0,1,2];\\\n}else{\\\nreturn [0,2,1];\\\n}}})\")\n      }\n    } else {\n      code.push(\"ORDER})\")\n    }\n  }\n\n  //view.set(i0, ..., v):\n  code.push(\n\"proto.set=function \"+className+\"_set(\"+args.join(\",\")+\",v){\")\n  if(useGetters) {\n    code.push(\"return this.data.set(\"+index_str+\",v)}\")\n  } else {\n    code.push(\"return this.data[\"+index_str+\"]=v}\")\n  }\n\n  //view.get(i0, ...):\n  code.push(\"proto.get=function \"+className+\"_get(\"+args.join(\",\")+\"){\")\n  if(useGetters) {\n    code.push(\"return this.data.get(\"+index_str+\")}\")\n  } else {\n    code.push(\"return this.data[\"+index_str+\"]}\")\n  }\n\n  //view.index:\n  code.push(\n    \"proto.index=function \"+className+\"_index(\", args.join(), \"){return \"+index_str+\"}\")\n\n  //view.hi():\n  code.push(\"proto.hi=function \"+className+\"_hi(\"+args.join(\",\")+\"){return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return [\"(typeof i\",i,\"!=='number'||i\",i,\"<0)?this.shape[\", i, \"]:i\", i,\"|0\"].join(\"\")\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"this.stride[\"+i + \"]\"\n    }).join(\",\")+\",this.offset)}\")\n\n  //view.lo():\n  var a_vars = indices.map(function(i) { return \"a\"+i+\"=this.shape[\"+i+\"]\" })\n  var c_vars = indices.map(function(i) { return \"c\"+i+\"=this.stride[\"+i+\"]\" })\n  code.push(\"proto.lo=function \"+className+\"_lo(\"+args.join(\",\")+\"){var b=this.offset,d=0,\"+a_vars.join(\",\")+\",\"+c_vars.join(\",\"))\n  for(var i=0; i<dimension; ++i) {\n    code.push(\n\"if(typeof i\"+i+\"==='number'&&i\"+i+\">=0){\\\nd=i\"+i+\"|0;\\\nb+=c\"+i+\"*d;\\\na\"+i+\"-=d}\")\n  }\n  code.push(\"return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return \"a\"+i\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"c\"+i\n    }).join(\",\")+\",b)}\")\n\n  //view.step():\n  code.push(\"proto.step=function \"+className+\"_step(\"+args.join(\",\")+\"){var \"+\n    indices.map(function(i) {\n      return \"a\"+i+\"=this.shape[\"+i+\"]\"\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"b\"+i+\"=this.stride[\"+i+\"]\"\n    }).join(\",\")+\",c=this.offset,d=0,ceil=Math.ceil\")\n  for(var i=0; i<dimension; ++i) {\n    code.push(\n\"if(typeof i\"+i+\"==='number'){\\\nd=i\"+i+\"|0;\\\nif(d<0){\\\nc+=b\"+i+\"*(a\"+i+\"-1);\\\na\"+i+\"=ceil(-a\"+i+\"/d)\\\n}else{\\\na\"+i+\"=ceil(a\"+i+\"/d)\\\n}\\\nb\"+i+\"*=d\\\n}\")\n  }\n  code.push(\"return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return \"a\" + i\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"b\" + i\n    }).join(\",\")+\",c)}\")\n\n  //view.transpose():\n  var tShape = new Array(dimension)\n  var tStride = new Array(dimension)\n  for(var i=0; i<dimension; ++i) {\n    tShape[i] = \"a[i\"+i+\"]\"\n    tStride[i] = \"b[i\"+i+\"]\"\n  }\n  code.push(\"proto.transpose=function \"+className+\"_transpose(\"+args+\"){\"+\n    args.map(function(n,idx) { return n + \"=(\" + n + \"===undefined?\" + idx + \":\" + n + \"|0)\"}).join(\";\"),\n    \"var a=this.shape,b=this.stride;return new \"+className+\"(this.data,\"+tShape.join(\",\")+\",\"+tStride.join(\",\")+\",this.offset)}\")\n\n  //view.pick():\n  code.push(\"proto.pick=function \"+className+\"_pick(\"+args+\"){var a=[],b=[],c=this.offset\")\n  for(var i=0; i<dimension; ++i) {\n    code.push(\"if(typeof i\"+i+\"==='number'&&i\"+i+\">=0){c=(c+this.stride[\"+i+\"]*i\"+i+\")|0}else{a.push(this.shape[\"+i+\"]);b.push(this.stride[\"+i+\"])}\")\n  }\n  code.push(\"var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}\")\n\n  //Add return statement\n  code.push(\"return function construct_\"+className+\"(data,shape,stride,offset){return new \"+className+\"(data,\"+\n    indices.map(function(i) {\n      return \"shape[\"+i+\"]\"\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"stride[\"+i+\"]\"\n    }).join(\",\")+\",offset)}\")\n\n  //Compile procedure\n  var procedure = new Function(\"CTOR_LIST\", \"ORDER\", code.join(\"\\n\"))\n  return procedure(CACHED_CONSTRUCTORS[dtype], order)\n}\n\nfunction arrayDType(data) {\n  if(isBuffer(data)) {\n    return \"buffer\"\n  }\n  if(hasTypedArrays) {\n    switch(Object.prototype.toString.call(data)) {\n      case \"[object Float64Array]\":\n        return \"float64\"\n      case \"[object Float32Array]\":\n        return \"float32\"\n      case \"[object Int8Array]\":\n        return \"int8\"\n      case \"[object Int16Array]\":\n        return \"int16\"\n      case \"[object Int32Array]\":\n        return \"int32\"\n      case \"[object Uint8Array]\":\n        return \"uint8\"\n      case \"[object Uint16Array]\":\n        return \"uint16\"\n      case \"[object Uint32Array]\":\n        return \"uint32\"\n      case \"[object Uint8ClampedArray]\":\n        return \"uint8_clamped\"\n      case \"[object BigInt64Array]\":\n        return \"bigint64\"\n      case \"[object BigUint64Array]\":\n        return \"biguint64\"\n    }\n  }\n  if(Array.isArray(data)) {\n    return \"array\"\n  }\n  return \"generic\"\n}\n\nvar CACHED_CONSTRUCTORS = {\n  \"float32\":[],\n  \"float64\":[],\n  \"int8\":[],\n  \"int16\":[],\n  \"int32\":[],\n  \"uint8\":[],\n  \"uint16\":[],\n  \"uint32\":[],\n  \"array\":[],\n  \"uint8_clamped\":[],\n  \"bigint64\": [],\n  \"biguint64\": [],\n  \"buffer\":[],\n  \"generic\":[]\n}\n\n;(function() {\n  for(var id in CACHED_CONSTRUCTORS) {\n    CACHED_CONSTRUCTORS[id].push(compileConstructor(id, -1))\n  }\n});\n\nfunction wrappedNDArrayCtor(data, shape, stride, offset) {\n  if(data === undefined) {\n    var ctor = CACHED_CONSTRUCTORS.array[0]\n    return ctor([])\n  } else if(typeof data === \"number\") {\n    data = [data]\n  }\n  if(shape === undefined) {\n    shape = [ data.length ]\n  }\n  var d = shape.length\n  if(stride === undefined) {\n    stride = new Array(d)\n    for(var i=d-1, sz=1; i>=0; --i) {\n      stride[i] = sz\n      sz *= shape[i]\n    }\n  }\n  if(offset === undefined) {\n    offset = 0\n    for(var i=0; i<d; ++i) {\n      if(stride[i] < 0) {\n        offset -= (shape[i]-1)*stride[i]\n      }\n    }\n  }\n  var dtype = arrayDType(data)\n  var ctor_list = CACHED_CONSTRUCTORS[dtype]\n  while(ctor_list.length <= d+1) {\n    ctor_list.push(compileConstructor(dtype, ctor_list.length-1))\n  }\n  var ctor = ctor_list[d+1]\n  return ctor(data, shape, stride, offset)\n}\n\nmodule.exports = wrappedNDArrayCtor\n","\"use strict\"\n\nfunction iota(n) {\n  var result = new Array(n)\n  for(var i=0; i<n; ++i) {\n    result[i] = i\n  }\n  return result\n}\n\nmodule.exports = iota","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","module.exports = {\n  EPSILON: require('./epsilon')\n  , create: require('./create')\n  , clone: require('./clone')\n  , angle: require('./angle')\n  , fromValues: require('./fromValues')\n  , copy: require('./copy')\n  , set: require('./set')\n  , equals: require('./equals')\n  , exactEquals: require('./exactEquals')\n  , add: require('./add')\n  , subtract: require('./subtract')\n  , sub: require('./sub')\n  , multiply: require('./multiply')\n  , mul: require('./mul')\n  , divide: require('./divide')\n  , div: require('./div')\n  , min: require('./min')\n  , max: require('./max')\n  , floor: require('./floor')\n  , ceil: require('./ceil')\n  , round: require('./round')\n  , scale: require('./scale')\n  , scaleAndAdd: require('./scaleAndAdd')\n  , distance: require('./distance')\n  , dist: require('./dist')\n  , squaredDistance: require('./squaredDistance')\n  , sqrDist: require('./sqrDist')\n  , length: require('./length')\n  , len: require('./len')\n  , squaredLength: require('./squaredLength')\n  , sqrLen: require('./sqrLen')\n  , negate: require('./negate')\n  , inverse: require('./inverse')\n  , normalize: require('./normalize')\n  , dot: require('./dot')\n  , cross: require('./cross')\n  , lerp: require('./lerp')\n  , random: require('./random')\n  , transformMat4: require('./transformMat4')\n  , transformMat3: require('./transformMat3')\n  , transformQuat: require('./transformQuat')\n  , rotateX: require('./rotateX')\n  , rotateY: require('./rotateY')\n  , rotateZ: require('./rotateZ')\n  , forEach: require('./forEach')\n}\n","module.exports = clone;\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nfunction clone(a) {\n    var out = new Float32Array(3)\n    out[0] = a[0]\n    out[1] = a[1]\n    out[2] = a[2]\n    return out\n}","module.exports = angle\n\nvar fromValues = require('./fromValues')\nvar normalize = require('./normalize')\nvar dot = require('./dot')\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nfunction angle(a, b) {\n    var tempA = fromValues(a[0], a[1], a[2])\n    var tempB = fromValues(b[0], b[1], b[2])\n \n    normalize(tempA, tempA)\n    normalize(tempB, tempB)\n \n    var cosine = dot(tempA, tempB)\n\n    if(cosine > 1.0){\n        return 0\n    } else {\n        return Math.acos(cosine)\n    }     \n}\n","module.exports = copy;\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nfunction copy(out, a) {\n    out[0] = a[0]\n    out[1] = a[1]\n    out[2] = a[2]\n    return out\n}","module.exports = set;\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nfunction set(out, x, y, z) {\n    out[0] = x\n    out[1] = y\n    out[2] = z\n    return out\n}","module.exports = equals\n\nvar EPSILON = require('./epsilon')\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0]\n  var a1 = a[1]\n  var a2 = a[2]\n  var b0 = b[0]\n  var b1 = b[1]\n  var b2 = b[2]\n  return (Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n          Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)))\n}\n","module.exports = exactEquals\n\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2]\n}\n","module.exports = add;\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction add(out, a, b) {\n    out[0] = a[0] + b[0]\n    out[1] = a[1] + b[1]\n    out[2] = a[2] + b[2]\n    return out\n}","module.exports = require('./subtract')\n","module.exports = require('./multiply')\n","module.exports = require('./divide')\n","module.exports = min;\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction min(out, a, b) {\n    out[0] = Math.min(a[0], b[0])\n    out[1] = Math.min(a[1], b[1])\n    out[2] = Math.min(a[2], b[2])\n    return out\n}","module.exports = max;\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction max(out, a, b) {\n    out[0] = Math.max(a[0], b[0])\n    out[1] = Math.max(a[1], b[1])\n    out[2] = Math.max(a[2], b[2])\n    return out\n}","module.exports = floor\n\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to floor\n * @returns {vec3} out\n */\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0])\n  out[1] = Math.floor(a[1])\n  out[2] = Math.floor(a[2])\n  return out\n}\n","module.exports = ceil\n\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to ceil\n * @returns {vec3} out\n */\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0])\n  out[1] = Math.ceil(a[1])\n  out[2] = Math.ceil(a[2])\n  return out\n}\n","module.exports = round\n\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to round\n * @returns {vec3} out\n */\nfunction round(out, a) {\n  out[0] = Math.round(a[0])\n  out[1] = Math.round(a[1])\n  out[2] = Math.round(a[2])\n  return out\n}\n","module.exports = scale;\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nfunction scale(out, a, b) {\n    out[0] = a[0] * b\n    out[1] = a[1] * b\n    out[2] = a[2] * b\n    return out\n}","module.exports = scaleAndAdd;\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nfunction scaleAndAdd(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale)\n    out[1] = a[1] + (b[1] * scale)\n    out[2] = a[2] + (b[2] * scale)\n    return out\n}","module.exports = require('./distance')\n","module.exports = require('./squaredDistance')\n","module.exports = require('./length')\n","module.exports = require('./squaredLength')\n","module.exports = negate;\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nfunction negate(out, a) {\n    out[0] = -a[0]\n    out[1] = -a[1]\n    out[2] = -a[2]\n    return out\n}","module.exports = inverse;\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0]\n  out[1] = 1.0 / a[1]\n  out[2] = 1.0 / a[2]\n  return out\n}","module.exports = cross;\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n    var ax = a[0], ay = a[1], az = a[2],\n        bx = b[0], by = b[1], bz = b[2]\n\n    out[0] = ay * bz - az * by\n    out[1] = az * bx - ax * bz\n    out[2] = ax * by - ay * bx\n    return out\n}","module.exports = lerp;\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nfunction lerp(out, a, b, t) {\n    var ax = a[0],\n        ay = a[1],\n        az = a[2]\n    out[0] = ax + t * (b[0] - ax)\n    out[1] = ay + t * (b[1] - ay)\n    out[2] = az + t * (b[2] - az)\n    return out\n}","module.exports = random;\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nfunction random(out, scale) {\n    scale = scale || 1.0\n\n    var r = Math.random() * 2.0 * Math.PI\n    var z = (Math.random() * 2.0) - 1.0\n    var zScale = Math.sqrt(1.0-z*z) * scale\n\n    out[0] = Math.cos(r) * zScale\n    out[1] = Math.sin(r) * zScale\n    out[2] = z * scale\n    return out\n}","module.exports = transformMat4;\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat4(out, a, m) {\n    var x = a[0], y = a[1], z = a[2],\n        w = m[3] * x + m[7] * y + m[11] * z + m[15]\n    w = w || 1.0\n    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w\n    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w\n    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w\n    return out\n}","module.exports = transformMat3;\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat3(out, a, m) {\n    var x = a[0], y = a[1], z = a[2]\n    out[0] = x * m[0] + y * m[3] + z * m[6]\n    out[1] = x * m[1] + y * m[4] + z * m[7]\n    out[2] = x * m[2] + y * m[5] + z * m[8]\n    return out\n}","module.exports = transformQuat;\n\n/**\n * Transforms the vec3 with a quat\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nfunction transformQuat(out, a, q) {\n    // benchmarks: http://jsperf.com/quaternion-transform-vec3-implementations\n\n    var x = a[0], y = a[1], z = a[2],\n        qx = q[0], qy = q[1], qz = q[2], qw = q[3],\n\n        // calculate quat * vec\n        ix = qw * x + qy * z - qz * y,\n        iy = qw * y + qz * x - qx * z,\n        iz = qw * z + qx * y - qy * x,\n        iw = -qx * x - qy * y - qz * z\n\n    // calculate result * inverse quat\n    out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy\n    out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz\n    out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx\n    return out\n}","module.exports = rotateX;\n\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateX(out, a, b, c){\n    var by = b[1]\n    var bz = b[2]\n\n    // Translate point to the origin\n    var py = a[1] - by\n    var pz = a[2] - bz\n\n    var sc = Math.sin(c)\n    var cc = Math.cos(c)\n\n    // perform rotation and translate to correct position\n    out[0] = a[0]\n    out[1] = by + py * cc - pz * sc\n    out[2] = bz + py * sc + pz * cc\n\n    return out\n}\n","module.exports = rotateY;\n\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateY(out, a, b, c){\n    var bx = b[0]\n    var bz = b[2]\n\n    // translate point to the origin\n    var px = a[0] - bx\n    var pz = a[2] - bz\n    \n    var sc = Math.sin(c)\n    var cc = Math.cos(c)\n  \n    // perform rotation and translate to correct position\n    out[0] = bx + pz * sc + px * cc\n    out[1] = a[1]\n    out[2] = bz + pz * cc - px * sc\n  \n    return out\n}\n","module.exports = rotateZ;\n\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateZ(out, a, b, c){\n    var bx = b[0]\n    var by = b[1]\n\n    //Translate point to the origin\n    var px = a[0] - bx\n    var py = a[1] - by\n  \n    var sc = Math.sin(c)\n    var cc = Math.cos(c)\n\n    // perform rotation and translate to correct position\n    out[0] = bx + px * cc - py * sc\n    out[1] = by + px * sc + py * cc\n    out[2] = a[2]\n  \n    return out\n}\n","module.exports = forEach;\n\nvar vec = require('./create')()\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nfunction forEach(a, stride, offset, count, fn, arg) {\n        var i, l\n        if(!stride) {\n            stride = 3\n        }\n\n        if(!offset) {\n            offset = 0\n        }\n        \n        if(count) {\n            l = Math.min((count * stride) + offset, a.length)\n        } else {\n            l = a.length\n        }\n\n        for(i = offset; i < l; i += stride) {\n            vec[0] = a[i] \n            vec[1] = a[i+1] \n            vec[2] = a[i+2]\n            fn(vec, vec, arg)\n            a[i] = vec[0] \n            a[i+1] = vec[1] \n            a[i+2] = vec[2]\n        }\n        \n        return a\n}","var DEFAULT_NORMALS_EPSILON = 1e-6;\nvar DEFAULT_FACE_EPSILON = 1e-6;\n\n//Estimate the vertex normals of a mesh\nexports.vertexNormals = function(faces, positions, specifiedEpsilon) {\n\n  var N         = positions.length;\n  var normals   = new Array(N);\n  var epsilon   = specifiedEpsilon === void(0) ? DEFAULT_NORMALS_EPSILON : specifiedEpsilon;\n\n  //Initialize normal array\n  for(var i=0; i<N; ++i) {\n    normals[i] = [0.0, 0.0, 0.0];\n  }\n\n  //Walk over all the faces and add per-vertex contribution to normal weights\n  for(var i=0; i<faces.length; ++i) {\n    var f = faces[i];\n    var p = 0;\n    var c = f[f.length-1];\n    var n = f[0];\n    for(var j=0; j<f.length; ++j) {\n\n      //Shift indices back\n      p = c;\n      c = n;\n      n = f[(j+1) % f.length];\n\n      var v0 = positions[p];\n      var v1 = positions[c];\n      var v2 = positions[n];\n\n      //Compute infineteismal arcs\n      var d01 = new Array(3);\n      var m01 = 0.0;\n      var d21 = new Array(3);\n      var m21 = 0.0;\n      for(var k=0; k<3; ++k) {\n        d01[k] = v0[k]  - v1[k];\n        m01   += d01[k] * d01[k];\n        d21[k] = v2[k]  - v1[k];\n        m21   += d21[k] * d21[k];\n      }\n\n      //Accumulate values in normal\n      if(m01 * m21 > epsilon) {\n        var norm = normals[c];\n        var w = 1.0 / Math.sqrt(m01 * m21);\n        for(var k=0; k<3; ++k) {\n          var u = (k+1)%3;\n          var v = (k+2)%3;\n          norm[k] += w * (d21[u] * d01[v] - d21[v] * d01[u]);\n        }\n      }\n    }\n  }\n\n  //Scale all normals to unit length\n  for(var i=0; i<N; ++i) {\n    var norm = normals[i];\n    var m = 0.0;\n    for(var k=0; k<3; ++k) {\n      m += norm[k] * norm[k];\n    }\n    if(m > epsilon) {\n      var w = 1.0 / Math.sqrt(m);\n      for(var k=0; k<3; ++k) {\n        norm[k] *= w;\n      }\n    } else {\n      for(var k=0; k<3; ++k) {\n        norm[k] = 0.0;\n      }\n    }\n  }\n\n  //Return the resulting set of patches\n  return normals;\n}\n\n//Compute face normals of a mesh\nexports.faceNormals = function(faces, positions, specifiedEpsilon) {\n\n  var N         = faces.length;\n  var normals   = new Array(N);\n  var epsilon   = specifiedEpsilon === void(0) ? DEFAULT_FACE_EPSILON : specifiedEpsilon;\n\n  for(var i=0; i<N; ++i) {\n    var f = faces[i];\n    var pos = new Array(3);\n    for(var j=0; j<3; ++j) {\n      pos[j] = positions[f[j]];\n    }\n\n    var d01 = new Array(3);\n    var d21 = new Array(3);\n    for(var j=0; j<3; ++j) {\n      d01[j] = pos[1][j] - pos[0][j];\n      d21[j] = pos[2][j] - pos[0][j];\n    }\n\n    var n = new Array(3);\n    var l = 0.0;\n    for(var j=0; j<3; ++j) {\n      var u = (j+1)%3;\n      var v = (j+2)%3;\n      n[j] = d01[u] * d21[v] - d01[v] * d21[u];\n      l += n[j] * n[j];\n    }\n    if(l > epsilon) {\n      l = 1.0 / Math.sqrt(l);\n    } else {\n      l = 0.0;\n    }\n    for(var j=0; j<3; ++j) {\n      n[j] *= l;\n    }\n    normals[i] = n;\n  }\n  return normals;\n}\n\n\n","module.exports = reindex\n\nfunction reindex(array) {\n  var pos = []\n  var cel = []\n\n  var i = 0\n  var c = 0\n  while (i < array.length) {\n    cel.push([c++, c++, c++])\n    pos.push([\n        array[i++]\n      , array[i++]\n      , array[i++]\n    ], [\n        array[i++]\n      , array[i++]\n      , array[i++]\n    ], [\n        array[i++]\n      , array[i++]\n      , array[i++]\n    ])\n  }\n\n  return {\n      positions: pos\n    , cells: cel\n  }\n}\n","var clone = require('clone');\n\nmodule.exports = function(options, defaults) {\n  options = options || {};\n\n  Object.keys(defaults).forEach(function(key) {\n    if (typeof options[key] === 'undefined') {\n      options[key] = clone(defaults[key]);\n    }\n  });\n\n  return options;\n};","var clone = (function() {\n'use strict';\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\nfunction clone(parent, circular, depth, prototype) {\n  var filter;\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    filter = circular.filter;\n    circular = circular.circular\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n};\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n};\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n};\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n};\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n};\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*! https://mths.be/codepointat v0.2.0 by @mathias */\nif (!String.prototype.codePointAt) {\n\t(function() {\n\t\t'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n\t\tvar defineProperty = (function() {\n\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\ttry {\n\t\t\t\tvar object = {};\n\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\tvar result = $defineProperty(object, object, object) && $defineProperty;\n\t\t\t} catch(error) {}\n\t\t\treturn result;\n\t\t}());\n\t\tvar codePointAt = function(position) {\n\t\t\tif (this == null) {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar string = String(this);\n\t\t\tvar size = string.length;\n\t\t\t// `ToInteger`\n\t\t\tvar index = position ? Number(position) : 0;\n\t\t\tif (index != index) { // better `isNaN`\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\t// Account for out-of-bounds indices:\n\t\t\tif (index < 0 || index >= size) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\t// Get the first code unit\n\t\t\tvar first = string.charCodeAt(index);\n\t\t\tvar second;\n\t\t\tif ( // check if its the start of a surrogate pair\n\t\t\t\tfirst >= 0xD800 && first <= 0xDBFF && // high surrogate\n\t\t\t\tsize > index + 1 // there is a next code unit\n\t\t\t) {\n\t\t\t\tsecond = string.charCodeAt(index + 1);\n\t\t\t\tif (second >= 0xDC00 && second <= 0xDFFF) { // low surrogate\n\t\t\t\t\t// https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t\t\t\t\treturn (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn first;\n\t\t};\n\t\tif (defineProperty) {\n\t\t\tdefineProperty(String.prototype, 'codePointAt', {\n\t\t\t\t'value': codePointAt,\n\t\t\t\t'configurable': true,\n\t\t\t\t'writable': true\n\t\t\t});\n\t\t} else {\n\t\t\tString.prototype.codePointAt = codePointAt;\n\t\t}\n\t}());\n}\n"],"sourceRoot":""}